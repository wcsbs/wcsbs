{"version":3,"sources":["webpack:///src/components/ClassSession.vue","webpack:///./src/components/ClassSession.vue?13ef","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/components/ClassSession.vue","webpack:///./src/components/ClassSession.vue?e250","webpack:///./src/components/ClassSession.vue?ff19"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiPA;AACA;AAEA;AACA,sBADA;AAEA;AACA;AAAA;AAAA;AAAA,KADA;AAEA;AAAA;AAAA;AAAA,KAFA;AAGA;AAAA;AAAA;AAAA,KAHA;AAIA;AAAA;AAAA;AAAA,KAJA;AAKA,2BALA;AAMA,qBANA;AAOA;AAPA,GAFA;AAWA;AACA;AACA,yCACA;AAAA;AAAA;AAAA;AAAA,OADA,GAEA,kBAHA;AAIA,+BAJA;AAKA,kCALA;AAMA,sCANA;AAOA;AAPA;AASA,GArBA;AAsBA,8BACA,6GADA,CAtBA;AAyBA,SAzBA,qBAyBA;AACA;AACA,GA3BA;AA4BA;AACA,eADA,yBACA;AACA;AACA,gCADA;AAEA,yCACA,6BADA,GAEA,mBAJA;AAKA,2CALA;AAMA,6DANA;AAOA,gEACA,qDADA,GAEA,EATA;AAUA,yDAVA;AAWA,yDAXA;AAYA,mEACA,oCADA,CAZA;AAeA,8BAfA;AAgBA,0EAhBA;AAiBA,0EAjBA;AAkBA;AAlBA;AAoBA,KAtBA;AAuBA,aAvBA,uBAuBA;AAAA;;AACA;AACA;;AACA;AACA;AACA;;AAEA;AACA;AACA,qBADA;AAEA;AAFA;AAIA,OALA;AAOA;AAEA;;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA,+EACA,4BADA;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAEA;;AACA;AACA,mFACA;AACA;AACA,aAHA;AAKA;AATA;;AACA;AAAA;AASA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAJA;AAMA,gCACA,6DACA,0BADA,GAEA,gCAHA;AAIA;AAEA;AACA;AACA,OAfA,MAeA;AACA;AACA;;AAEA;AACA;AACA,qBADA;AAEA;AAFA;AAIA,OALA;AAMA,KAtGA;AAuGA,gBAvGA,0BAuGA;AACA;AACA,qDACA,gBADA,2BACA,mBADA;AAIA;AACA;;AAEA;AACA;;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA,oEACA,sBADA;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA,oEACA,sBADA;;AAGA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,KAzJA;AA0JA,mBA1JA,2BA0JA,KA1JA,EA0JA;AACA;AACA;AACA,KA7JA;AA8JA,eA9JA,yBA8JA;AACA;AACA,uCADA;AAEA;AAFA;AAIA;AACA;AACA,KArKA;AAsKA,kBAtKA,0BAsKA,KAtKA,EAsKA;AACA;AACA,KAxKA;AAyKA,yBAzKA,iCAyKA,IAzKA,EAyKA;AACA;AACA,uBADA;AAEA,sBAFA;AAGA,sBAHA;AAIA,uBAJA;AAKA;AALA;AAOA;AACA,KAlLA;AAmLA,qBAnLA,6BAmLA,IAnLA,EAmLA;AACA;AACA,uBADA;AAEA,sBAFA;AAGA;AAHA;AAKA;AACA,KA1LA;AA2LA,8BA3LA,wCA2LA;AACA;AACA;AACA;AACA,sEAJA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5MA;AA6MA,qCA7MA,+CA6MA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;;AAEA;AACA,KAxNA;AAyNA,2BAzNA,mCAyNA,cAzNA,EAyNA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AAEA;AACA,KA1OA;AA2OA,yBA3OA,iCA2OA,cA3OA,EA2OA,KA3OA,EA2OA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;;AAEA;AACA,KAhQA;AAiQA,4BAjQA,oCAiQA,KAjQA,EAiQA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA,KA3QA;AA4QA,uBA5QA,+BA4QA,KA5QA,EA4QA;AACA;AAEA;AACA;AAEA;AACA,oBADA;AAEA,wBAFA;AAGA,oBAHA,CAGA;;AAHA;AAKA;AACA,oDADA;AAEA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAEA,mBACA,OADA,CACA,OADA,EACA,OADA,EAEA,IAFA,CAEA;AACA;AACA,wDADA;AAEA;AAFA,WAIA,IAJA,CAIA;AACA,gEACA,sBADA;AAGA;;AACA;AACA,sFACA,cADA,EAEA,CAFA;AAIA;;AACA;AACA,SAhBA,EAiBA,KAjBA,CAiBA;AACA;AACA;AACA,gFACA,CADA;AAGA,SAvBA;AAwBA,OA3BA,EA4BA,KA5BA,CA4BA;AACA;AACA,OA9BA;AA+BA,KA7TA;AA8TA,wBA9TA,gCA8TA,YA9TA,EA8TA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA,OALA,MAKA;AACA;AACA;AACA;;AACA;AACA;AACA,KA9UA;AA+UA,oBA/UA,4BA+UA,YA/UA,EA+UA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA,OATA,MASA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBADA;AAEA,wBAFA;AAGA,oBAHA,CAGA;;AAHA;AAKA;AACA,gCADA;AAEA;AAFA;AAIA;AAEA,mBACA,OADA,CACA,OADA,EACA,OADA,EAEA,IAFA,CAEA;AACA;AACA,0BADA;AAEA,8BAFA;AAGA;AAHA,WAKA,IALA,CAKA;AACA,6DACA,sBADA;;AAGA;AACA,8DACA,yBADA;AAEA;;AACA;AACA,iEACA,4BADA;AAEA;;AACA,wFACA,4BADA;AAGA;AACA;AACA,SAtBA,EAuBA,KAvBA,CAuBA;AACA;AACA;AACA;AACA,SA3BA;AA4BA,OA/BA,EAgCA,KAhCA,CAgCA;AACA;AACA,OAlCA;AAmCA,KAvZA;AAwZA,eAxZA,yBAwZA;AACA;AACA;AACA;AACA,KA5ZA;AA6ZA,WA7ZA,mBA6ZA,GA7ZA,EA6ZA;AACA;AACA;AACA;AACA,KAjaA;AAkaA,YAlaA,oBAkaA,GAlaA,EAkaA;AACA;;AAEA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;;AAEA;AACA;AACA;AADA;AAGA;AACA;;AAEA;AACA,oBADA;AAEA,wBAFA;AAGA,oBAHA,CAGA;;AAHA;AAKA;AACA,kCADA;AAEA,4EACA,YADA,sBAEA,2CAFA;AAFA;AAOA;AACA,wEAhCA,CAgCA;;AACA,+BAjCA,CAkCA;;AACA;AAEA;AAEA,mBACA,OADA,CACA,OADA,EACA,OADA,EAEA,IAFA,CAEA;AACA;AAAA;AAAA,WACA,IADA,CACA;AACA,6DACA,sBADA;AAGA,yBAJA,CAKA;;AACA;AACA,SARA,EASA,KATA,CASA;AACA;AACA;AACA;AACA,SAbA;AAcA,OAjBA,EAkBA,KAlBA,CAkBA;AACA;AACA,OApBA;AAqBA;AA9dA;AA5BA,G;;;;;;;;;;;;ACpPA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM,2CAA2C,EAAE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,8BAA8B,mBAAmB,EAAE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,SAAS,oCAAoC,EAAE;AAC5E,2CAA2C,SAAS,mBAAmB,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,8BAA8B,mBAAmB,EAAE;AACxE;AACA;AACA,gCAAgC,qCAAqC;AACrE,6BAA6B,wBAAwB;AACrD;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,8BAA8B,mBAAmB,EAAE;AACpE;AACA;AACA,4BAA4B,wCAAwC;AACpE;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,qBAAqB;AAC3D;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,yBAAyB,SAAS,qCAAqC,EAAE;AACzE,uCAAuC,SAAS,uBAAuB,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,qBAAqB;AACjE;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,sCAAsC,qBAAqB;AAC3D;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,qBAAqB;AACjE;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,aAAa,qCAAqC,2BAA2B,EAAE;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,8BAA8B,mBAAmB,EAAE;AACxE;AACA;AACA,gCAAgC,eAAe;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,qBAAqB;AAC/D,uCAAuC;AACvC,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,kBAAkB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,4CAA4C;AAC5C,mCAAmC;AACnC;AACA,4CAA4C;AAC5C,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,yBAAyB;AACzB;AACA;AACA,oCAAoC,eAAe;AACnD;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,qBAAqB;AACnE;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,+CAA+C,SAAS,eAAe,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,4BAA4B;AACvD;AACA;AACA;AACA;AACA,wCAAwC;AACxC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,qBAAqB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA,kDAAkD;AAClD,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,yBAAyB;AACzB;AACA;AACA,oCAAoC,eAAe;AACnD;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,qBAAqB;AACnE;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,qBAAqB;AACnE;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA,kDAAkD;AAClD,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACroBa;AACb,YAAY,mBAAO,CAAC,0DAAU;;AAE9B;AACA;AACA;AACA,yCAAyC,cAAc;AACvD,GAAG;AACH;;;;;;;;;;;;;ACRa;AACb,cAAc,mBAAO,CAAC,4DAAW;AACjC,gBAAgB,mBAAO,CAAC,oEAAe;AACvC,eAAe,mBAAO,CAAC,kEAAc;AACrC,YAAY,mBAAO,CAAC,0DAAU;AAC9B;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC,MAAM,mBAAO,CAAC,0EAAkB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACtBD;AAAA;AAAA;AAAA;AAA2F;AAC3B;AACL;;;AAG3D;AAC0F;AAC1F,gBAAgB,2GAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,IAAU;AACd,YAAY,mBAAO,CAAC,wGAA4G;AAChI,cAAc,mBAAO,CAAC,uDAAK;AAC3B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,2HAAmD,EAAE;AAAA;AAC3E;AACA,gBAAgB,uFAAM;AACtB,yBAAyB,gGAAe;AACxC,OAAO;AACP,KAAK;AACL;AACA;AACA;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAyR,CAAgB,6UAAG,EAAC,C;;;;;;;;;;;;ACA7S;AAAA;AAAA;AAAA;AAAA;AAAA","file":"3.js","sourcesContent":["<template>\n  <div>\n    <b-form v-if=\"editing\" @submit=\"onSubmit\" @reset=\"onReset\">\n      <h4>{{ this.session.creating ? \"创建新课\" : session.name }}</h4>\n      <b-input-group prepend=\"选择日期：\" class=\"mt-3\">\n        <v-date-picker\n          locale=\"zh-CN\"\n          v-model=\"session.scheduledAt\"\n          :input-props=\"{\n            readonly: true\n          }\"\n        />\n        <b-input-group-append>\n          <b-button v-if=\"!session.creating\" type=\"reset\" variant=\"warning\">\n            <b-icon icon=\"x-circle\"></b-icon>\n          </b-button>\n        </b-input-group-append>\n      </b-input-group>\n      <b-input-group\n        v-if=\"moduleDropdownOptions.length > 1\"\n        prepend=\"选择模块：\"\n        class=\"mt-3\"\n      >\n        <b-form-select\n          v-model=\"session.moduleId\"\n          v-on:change=\"refreshUI\"\n          :options=\"moduleDropdownOptions\"\n        ></b-form-select>\n      </b-input-group>\n      <b-input-group prepend=\"选子模块：\" class=\"mt-3\">\n        <b-form-select\n          v-model=\"session.submoduleId\"\n          :options=\"submoduleDropdownOptions\"\n        ></b-form-select>\n        <b-input-group-append>\n          <b-button\n            v-if=\"canAddSubmodule\"\n            variant=\"warning\"\n            v-on:click=\"addSubmodule()\"\n            >加入上课内容</b-button\n          >\n          <b-button type=\"submit\" variant=\"success\">\n            <b-icon icon=\"check-circle\"></b-icon>\n          </b-button>\n        </b-input-group-append>\n      </b-input-group>\n      <div v-if=\"!classInfo.singleSubmodule\">\n        <b-input-group\n          v-for=\"(submodule, index) in session.submodules\"\n          :key=\"submodule.id + index\"\n          prepend=\"上课内容：\"\n          class=\"mt-3\"\n        >\n          <b-form-input\n            readonly\n            :value=\"`(${index + 1}) ${submodule.name}`\"\n          ></b-form-input>\n          <b-input-group-append>\n            <b-button variant=\"warning\" v-on:click=\"removeSubmodule(index)\"\n              >删除</b-button\n            >\n          </b-input-group-append>\n        </b-input-group>\n        <b-input-group\n          v-if=\"session.submodules.length > 0\"\n          prepend=\"上课名称：\"\n          class=\"mt-3\"\n        >\n          <b-form-input v-model=\"session.name\"></b-form-input>\n        </b-input-group>\n      </div>\n      <div v-if=\"!session.creating\">\n        <b-input-group prepend=\"材料链接：\" type=\"url\" class=\"mt-3\">\n          <b-form-input v-model=\"session.materialUrl\"></b-form-input>\n        </b-input-group>\n        <b-input-group prepend=\"材料名称：\" class=\"mt-3\">\n          <b-form-input v-model=\"session.materialName\"></b-form-input>\n          <b-button variant=\"warning\" v-on:click=\"addMaterial()\"\n            >加入上课材料</b-button\n          >\n        </b-input-group>\n        <b-input-group\n          v-for=\"(material, index) in session.materials\"\n          :key=\"material.url + index\"\n          prepend=\"上课材料：\"\n          class=\"mt-3\"\n        >\n          <b-form-input\n            readonly\n            :value=\"`(${index + 1}) ${material.name}`\"\n          ></b-form-input>\n          <b-input-group-append>\n            <b-button variant=\"warning\" v-on:click=\"removeMaterial(index)\"\n              >删除</b-button\n            >\n          </b-input-group-append>\n        </b-input-group>\n      </div>\n      <b-form-textarea\n        v-model=\"session.description\"\n        placeholder=\"输入上课通知\"\n        rows=\"8\"\n        max-rows=\"20\"\n      ></b-form-textarea>\n    </b-form>\n    <b-card v-else class=\"text-center\" :header=\"session.name\">\n      <b-card-text>\n        <b-input-group prepend=\"上课时间：\" class=\"mt-3\">\n          <b-form-input\n            readonly\n            v-model=\"session.scheduledAtLocalDateTimeString\"\n          ></b-form-input>\n          <b-input-group-append>\n            <b-button\n              variant=\"warning\"\n              v-if=\"\n                !forApplication &&\n                  classInfo &&\n                  !session.creating &&\n                  (isClassAdmin || isTeachingAssistant)\n              \"\n              v-on:click=\"editSession\"\n              >修改</b-button\n            >\n            <b-button\n              variant=\"info\"\n              v-on:click=\"session.showMoreDetails = !session.showMoreDetails\"\n            >\n              <b-icon\n                v-if=\"session.showMoreDetails\"\n                icon=\"chevron-double-up\"\n              ></b-icon>\n              <b-icon v-else icon=\"chevron-double-down\"></b-icon>\n            </b-button>\n          </b-input-group-append>\n        </b-input-group>\n        <b-input-group\n          v-if=\"sessionDetails.submodules.length == 1\"\n          prepend=\"课前学习：\"\n          class=\"mt-3\"\n        >\n          <b-form-input readonly v-model=\"session.prestudyState\"></b-form-input>\n          <b-input-group-append>\n            <b-button\n              variant=\"success\"\n              v-if=\"needToShowPrestudyButton(0)\"\n              v-on:click=\"updatePrestudyState(0)\"\n              >圆满</b-button\n            >\n            <b-button\n              variant=\"info\"\n              :href=\"sessionDetails.submodules[0].url\"\n              target=\"_blank\"\n            >\n              <b-icon icon=\"book\"></b-icon>\n            </b-button>\n          </b-input-group-append>\n        </b-input-group>\n        <div\n          v-else\n          v-for=\"(submodule, index) in sessionDetails.submodules\"\n          :key=\"submodule.id + index\"\n        >\n          <b-link :href=\"submodule.url\" target=\"_blank\">{{\n            `(${index + 1}) ${submodule.name}`\n          }}</b-link>\n          <b-input-group prepend=\"课前学习：\" class=\"mt-3\">\n            <b-form-input\n              readonly\n              :value=\"toPrestudyStateString(sessionDetails, index)\"\n            ></b-form-input>\n            <b-input-group-append>\n              <b-button\n                variant=\"success\"\n                v-if=\"needToShowPrestudyButton(index)\"\n                v-on:click=\"updatePrestudyState(index)\"\n                >圆满</b-button\n              >\n              <b-button variant=\"info\" :href=\"submodule.url\" target=\"_blank\">\n                <b-icon icon=\"book\"></b-icon>\n              </b-button>\n            </b-input-group-append>\n          </b-input-group>\n        </div>\n        <b-input-group\n          v-if=\"!session.forApplication\"\n          prepend=\"共修出席：\"\n          class=\"mt-3\"\n        >\n          <b-form-input\n            readonly\n            v-model=\"session.attendanceState\"\n          ></b-form-input>\n          <b-input-group-append>\n            <b-button\n              variant=\"success\"\n              v-if=\"needToShowAttendanceButton()\"\n              v-on:click=\"updateAttendance(false)\"\n              >{{ attendanceButtonName(false) }}</b-button\n            >\n            <b-button\n              variant=\"warning\"\n              v-if=\"\n                needToShowAttendanceButton() && session.needTwoAttendanceButtons\n              \"\n              v-on:click=\"updateAttendance(true)\"\n              >{{ attendanceButtonName(true) }}</b-button\n            >\n          </b-input-group-append>\n        </b-input-group>\n        <div v-if=\"session.showMoreDetails\">\n          <b-input-group\n            v-for=\"(material, index) in session.materials\"\n            :key=\"material.url + index\"\n            prepend=\"上课材料：\"\n            class=\"mt-3\"\n          >\n            <b-form-input\n              readonly\n              :value=\"`(${index + 1}) ${material.name}`\"\n            ></b-form-input>\n            <b-input-group-append>\n              <b-button variant=\"info\" :href=\"material.url\" target=\"_blank\">\n                <b-icon icon=\"book\"></b-icon>\n              </b-button>\n            </b-input-group-append>\n          </b-input-group>\n          <b-form-textarea\n            v-model=\"session.description\"\n            placeholder=\"\"\n            rows=\"8\"\n            max-rows=\"20\"\n            readonly\n          ></b-form-textarea>\n        </div>\n      </b-card-text>\n    </b-card>\n  </div>\n</template>\n\n<script>\nimport Parse from \"parse\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"ClassSession\",\n  props: {\n    classSession: { type: Object, required: true },\n    sessionDetails: { type: Object, required: false },\n    classInfo: { type: Object, required: false },\n    newSessions: { type: Array, required: false },\n    forApplication: Boolean,\n    forAdmin: Boolean,\n    classId: String\n  },\n  data: function() {\n    return {\n      session: this.classSession.dummy\n        ? { creating: true, editing: true, submodules: [] }\n        : this.initSession(),\n      moduleDropdownOptions: [],\n      submoduleDropdownOptions: [],\n      editing: this.classSession.dummy,\n      canAddSubmodule: false\n    };\n  },\n  computed: {\n    ...mapGetters([\"isClassAdmin\", \"isTeachingAssistant\", \"isStudent\"])\n  },\n  mounted() {\n    this.refreshUI();\n  },\n  methods: {\n    initSession() {\n      return {\n        id: this.classSession.id,\n        forApplication: this.classInfo\n          ? this.classInfo.forApplication\n          : this.forApplication,\n        name: this.classSession.get(\"name\"),\n        submodules: [].concat(this.sessionDetails.submodules),\n        materials: this.classSession.get(\"content\").materials\n          ? [].concat(this.classSession.get(\"content\").materials)\n          : [],\n        description: this.classSession.get(\"description\"),\n        scheduledAt: this.classSession.get(\"scheduledAt\"),\n        scheduledAtLocalDateTimeString: this.toLocalDateTimeString(\n          this.classSession.get(\"scheduledAt\")\n        ),\n        showMoreDetails: false,\n        attendanceState: this.toAttendanceStateString(this.sessionDetails),\n        needTwoAttendanceButtons: this.checkIfTwoAttendanceButtonsNeeded(),\n        prestudyState: this.toPrestudyStateString(this.sessionDetails, 0)\n      };\n    },\n    refreshUI() {\n      this.moduleDropdownOptions = [];\n      this.submoduleDropdownOptions = [];\n      if (!this.editing) {\n        return;\n      }\n\n      this.moduleDropdownOptions = this.classInfo.modules.map(e => {\n        return {\n          value: e.id,\n          text: e.name\n        };\n      });\n\n      const session = this.session;\n\n      var selectedModule;\n      for (var i = 0; i < this.classInfo.modules.length; i++) {\n        selectedModule = this.classInfo.modules[i];\n        if (!session.moduleId || session.moduleId == selectedModule.id) {\n          if (!session.moduleId) {\n            session.moduleId = selectedModule.id;\n          }\n          this.submoduleDropdownOptions = this.submoduleDropdownOptions.concat(\n            selectedModule.newSubmodules\n          );\n          console.log(`refreshUI - selectedModule: ${selectedModule.name}`);\n          break;\n        }\n      }\n\n      if (!this.classSession.dummy && selectedModule) {\n        for (i = 0; i < this.sessionDetails.submodules.length; i++) {\n          const submodule = this.sessionDetails.submodules[i];\n          if (submodule.moduleId == selectedModule.id) {\n            this.submoduleDropdownOptions.push(submodule);\n            console.log(`refreshUI - pushed: ${submodule.name}`);\n          }\n        }\n      }\n\n      if (!this.classInfo.singleSubmodule && selectedModule) {\n        for (i = 0; i < this.session.submodules.length; i++) {\n          const submodule = this.session.submodules[i];\n          if (submodule.moduleId == selectedModule.id) {\n            this.submoduleDropdownOptions = this.submoduleDropdownOptions.filter(\n              e => {\n                return e.id != submodule.id;\n              }\n            );\n          }\n        }\n      }\n\n      if (this.submoduleDropdownOptions.length > 0) {\n        this.submoduleDropdownOptions.sort((s1, s2) => {\n          var a = s1.index;\n          var b = s2.index;\n          return a > b ? 1 : b > a ? -1 : 0;\n        });\n\n        const selectedSubmodule =\n          this.classInfo.singleSubmodule && !this.classSession.dummy\n            ? this.session.submodules[0]\n            : this.submoduleDropdownOptions[0];\n        console.log(`refreshUI - selectedSubmodule: ${selectedSubmodule.name}`);\n\n        this.session.submoduleId = selectedSubmodule.id;\n        this.canAddSubmodule = !this.classInfo.singleSubmodule;\n      } else {\n        this.canAddSubmodule = false;\n      }\n\n      this.submoduleDropdownOptions = this.submoduleDropdownOptions.map(e => {\n        return {\n          value: e.id,\n          text: e.name\n        };\n      });\n    },\n    addSubmodule() {\n      const session = this.session;\n      console.log(\n        `addSubmodule - moduleId: ${session.moduleId} submoduleId: ${session.submoduleId}`\n      );\n\n      var selectedModule;\n      var selectedSubmodule;\n\n      for (var i = 0; i < this.classInfo.modules.length; i++) {\n        selectedModule = this.classInfo.modules[i];\n        if (!session.moduleId || session.moduleId == selectedModule.id) {\n          console.log(`addSubmodule - selectedModule: ${selectedModule.name}`);\n          break;\n        }\n      }\n\n      if (this.sessionDetails) {\n        for (i = 0; i < this.sessionDetails.submodules.length; i++) {\n          const submodule = this.sessionDetails.submodules[i];\n          if (submodule.id == session.submoduleId) {\n            selectedSubmodule = submodule;\n            session.submodules.push(selectedSubmodule);\n            console.log(\n              `addSubmodule - selectedSubmodule: ${selectedSubmodule.name}`\n            );\n            break;\n          }\n        }\n      }\n\n      if (!selectedSubmodule && selectedModule) {\n        for (i = 0; i < selectedModule.newSubmodules.length; i++) {\n          const submodule = selectedModule.newSubmodules[i];\n          if (submodule.id == session.submoduleId) {\n            selectedSubmodule = submodule;\n            session.submodules.push(selectedSubmodule);\n            console.log(\n              `addSubmodule - selectedSubmodule: ${selectedSubmodule.name}`\n            );\n            if (!session.name || this.classInfo.singleSubmodule) {\n              session.name = selectedSubmodule.name;\n            }\n            break;\n          }\n        }\n      }\n      if (!this.classInfo.singleSubmodule) {\n        this.refreshUI();\n      }\n    },\n    removeSubmodule(index) {\n      this.session.submodules.splice(index, 1);\n      this.refreshUI();\n    },\n    addMaterial() {\n      this.session.materials.push({\n        name: this.session.materialName,\n        url: this.session.materialUrl\n      });\n      this.session.materialName = \"\";\n      this.session.materialUrl = \"\";\n    },\n    removeMaterial(index) {\n      this.session.materials.splice(index, 1);\n    },\n    toLocalDateTimeString(date) {\n      const options = {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"numeric\"\n      };\n      return date.toLocaleDateString(\"zh-CN\", options);\n    },\n    toLocalDateString(date) {\n      const options = {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\"\n      };\n      return date.toLocaleDateString(\"zh-CN\", options);\n    },\n    needToShowAttendanceButton() {\n      // console.log(\n      //   `needToShowAttendanceButton - this.isStudent: ${this.isStudent} this.forAdmin: ${this.forAdmin} this.forApplication: ${this.forApplication}`\n      // );\n      return this.isStudent && !this.forAdmin && !this.forApplication;\n      // const scheduledAt = this.classSession.get(\"scheduledAt\");\n      // if (this.isStudent) {\n      //   const today = new Date();\n      //   //student must submit sessionDetails within 3 days\n      //   var cutoffTime = new Date(\n      //     scheduledAt.getTime() + 4 * 24 * 60 * 60 * 1000\n      //   );\n      //   cutoffTime.setHours(0, 0, 0, 0); //set to midnight\n      //   // console.log(`needToShowAttendanceButton - cutoffTime: ${cutoffTime}`);\n      //   return today.getTime() < cutoffTime.getTime();\n      // }\n      // return false;\n    },\n    checkIfTwoAttendanceButtonsNeeded() {\n      const d = new Date();\n      const sessionDetails = this.sessionDetails;\n      if (sessionDetails && d >= this.classSession.get(\"scheduledAt\")) {\n        if (sessionDetails.attendance.onLeave) {\n          return false;\n        }\n        return sessionDetails.attendance.attendance == undefined;\n      }\n\n      return false;\n    },\n    toAttendanceStateString(sessionDetails) {\n      if (sessionDetails) {\n        if (typeof sessionDetails.attendance.attendance == \"number\") {\n          return `${sessionDetails.attendance.attendance}人已上课`;\n        }\n        if (sessionDetails.attendance.onLeave) {\n          return \"请假\";\n        }\n        if (sessionDetails.attendance.attendance == true) {\n          return \"已上课\";\n        }\n        if (sessionDetails.attendance.attendance == false) {\n          return \"未上课\";\n        }\n      }\n\n      return \"未报出席\";\n    },\n    toPrestudyStateString(sessionDetails, index) {\n      if (this.forApplication) {\n        return \"请在课前看完传承/法本\";\n      }\n      var chuanCheng = \"未看传承\";\n      var faBen = \"未看法本\";\n      if (sessionDetails && sessionDetails.submodules[index].studyRecord) {\n        const studyRecord = sessionDetails.submodules[index].studyRecord;\n        if (typeof studyRecord.lineage == \"number\") {\n          chuanCheng = `${studyRecord.lineage}人已看传承`;\n        } else if (studyRecord.lineage) {\n          chuanCheng = \"已看传承\";\n        }\n        if (typeof studyRecord.textbook == \"number\") {\n          faBen = `${studyRecord.textbook}人已看法本`;\n        } else if (studyRecord.textbook) {\n          faBen = \"已看法本\";\n        }\n      }\n\n      return `${chuanCheng}/${faBen}`;\n    },\n    needToShowPrestudyButton(index) {\n      if (this.forApplication || this.forAdmin) {\n        return false;\n      }\n      const sessionDetails = this.sessionDetails;\n      if (sessionDetails && sessionDetails.submodules[index].studyRecord) {\n        const studyRecord = sessionDetails.submodules[index].studyRecord;\n        return !studyRecord.lineage || !studyRecord.textbook;\n      }\n      return false;\n    },\n    updatePrestudyState(index) {\n      console.log(`updatePrestudyState - ${index}`);\n\n      var msg = \"确认已圆满传承和法本?\";\n      const sessionDetails = this.sessionDetails;\n\n      const options = {\n        okText: \"确认\",\n        cancelText: \"取消\",\n        loader: true // default: false - when set to true, the proceed button shows a loader when clicked; and a dialog object will be passed to the then() callback\n      };\n      const message = {\n        title: sessionDetails.submodules[index].name,\n        body: msg\n      };\n      const thisComponent = this;\n      const userStudyRecord = { lineage: true, textbook: true };\n\n      this.$dialog\n        .confirm(message, options)\n        .then(function(dialog) {\n          Parse.Cloud.run(\"home:updateUserStudyRecord\", {\n            pathname: sessionDetails.submodules[index].url,\n            userStudyRecord\n          })\n            .then(result => {\n              console.log(\n                `updateUserStudyRecord - result: ${JSON.stringify(result)}`\n              );\n              sessionDetails.submodules[index].studyRecord = result;\n              if (index == 0) {\n                thisComponent.session.prestudyState = thisComponent.toPrestudyStateString(\n                  sessionDetails,\n                  0\n                );\n              }\n              dialog.close();\n            })\n            .catch(e => {\n              console.log(`error in updateUserStudyRecord: ${e}`);\n              dialog.close();\n              thisComponent.$dialog.alert(\n                `error in updateUserStudyRecord: ${e}`\n              );\n            });\n        })\n        .catch(e => {\n          console.log(`error: ${e}`);\n        });\n    },\n    attendanceButtonName(secondButton) {\n      if (secondButton) {\n        return \"未上课\";\n      }\n      const d = new Date();\n      if (d < this.classSession.get(\"scheduledAt\")) {\n        if (this.sessionDetails.attendance.onLeave) {\n          return \"取消请假\";\n        }\n        return \"我要请假\";\n      } else {\n        if (this.session.needTwoAttendanceButtons) {\n          return \"已上课\";\n        }\n        return \"我要改出席\";\n      }\n    },\n    updateAttendance(secondButton) {\n      const d = new Date();\n      var msg = \"确认\";\n      var attendance = this.sessionDetails.attendance;\n      if (d < this.classSession.get(\"scheduledAt\")) {\n        if (attendance.onLeave) {\n          attendance.onLeave = false;\n          msg += \"取消请假\";\n        } else {\n          attendance.onLeave = true;\n          attendance.attendance = false;\n          msg += \"请假\";\n        }\n      } else {\n        if (secondButton || attendance.attendance) {\n          attendance.attendance = false;\n          msg += \"没有上课\";\n        } else {\n          attendance.attendance = true;\n          attendance.onLeave = false;\n          msg += \"已上课\";\n        }\n      }\n\n      const classId = this.classId ? this.classId : this.classInfo.id;\n      const sessionId = this.classSession.id;\n      const options = {\n        okText: \"确认\",\n        cancelText: \"取消\",\n        loader: true // default: false - when set to true, the proceed button shows a loader when clicked; and a dialog object will be passed to the then() callback\n      };\n      const message = {\n        title: this.session.name,\n        body: msg + \"?\"\n      };\n      const thisComponent = this;\n\n      this.$dialog\n        .confirm(message, options)\n        .then(function(dialog) {\n          Parse.Cloud.run(\"home:updateAttendanceV2\", {\n            classId,\n            sessionId,\n            attendance\n          })\n            .then(result => {\n              console.log(\n                `updateAttendanceV2 - result: ${JSON.stringify(result)}`\n              );\n              if (result.attendance.onLeave != undefined) {\n                thisComponent.sessionDetails.attendance.onLeave =\n                  result.attendance.onLeave;\n              }\n              if (result.attendance.attendance != undefined) {\n                thisComponent.sessionDetails.attendance.attendance =\n                  result.attendance.attendance;\n              }\n              thisComponent.session.attendanceState = thisComponent.toAttendanceStateString(\n                thisComponent.sessionDetails\n              );\n              thisComponent.session.needTwoAttendanceButtons = false;\n              dialog.close();\n            })\n            .catch(e => {\n              console.log(`error in updateAttendanceV2: ${e}`);\n              dialog.close();\n              thisComponent.$dialog.alert(`error in updateAttendance: ${e}`);\n            });\n        })\n        .catch(e => {\n          console.log(`error: ${e}`);\n        });\n    },\n    editSession() {\n      this.session = this.initSession();\n      this.editing = true;\n      this.refreshUI();\n    },\n    onReset(evt) {\n      evt.preventDefault();\n      this.session = this.initSession();\n      this.editing = false;\n    },\n    onSubmit(evt) {\n      evt.preventDefault();\n\n      if (this.classInfo.singleSubmodule) {\n        if (this.session.submodules.length > 0) {\n          this.session.submodules.splice(0, 1);\n        }\n        this.addSubmodule();\n      }\n      const session = this.session;\n      console.log(`session.submodules: ${JSON.stringify(session.submodules)}`);\n\n      if (!session.scheduledAt || session.submodules.length < 1) {\n        this.$dialog.alert(\"请输入上课时间和内容！\", {\n          okText: \"知道了\"\n        });\n        return;\n      }\n\n      const options = {\n        okText: \"确认\",\n        cancelText: \"取消\",\n        loader: true // default: false - when set to true, the proceed button shows a loader when clicked; and a dialog object will be passed to the then() callback\n      };\n      const message = {\n        title: this.classInfo.name,\n        body: `${session.creating ? \"创建新课\" : \"修改\"} 《${\n          session.name\n        }》 @ ${this.toLocalDateString(session.scheduledAt)}？`\n      };\n\n      var dt = new Date(session.scheduledAt);\n      dt.setHours(session.submodules[0].url.includes(\"rpsxl\") ? 9 : 14); //TODO: allow setting time\n      session.scheduledAt = dt;\n      // console.log(`session.scheduledAt: ${session.scheduledAt}`);\n      session.classId = this.classInfo.id;\n\n      const thisComponent = this;\n\n      this.$dialog\n        .confirm(message, options)\n        .then(function(dialog) {\n          Parse.Cloud.run(\"class:updateClassSessionV2\", { session })\n            .then(result => {\n              console.log(\n                `updateClassSession - result: ${JSON.stringify(result)}`\n              );\n              dialog.close();\n              // thisComponent.$router.go();\n              window.location.reload();\n            })\n            .catch(e => {\n              console.log(`error in updateClassSession: ${JSON.stringify(e)}`);\n              dialog.close();\n              thisComponent.$dialog.alert(`error in updateClassSession: ${e}`);\n            });\n        })\n        .catch(e => {\n          console.log(`error: ${e}`);\n        });\n    }\n  }\n};\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _vm.editing\n        ? _c(\n            \"b-form\",\n            { on: { submit: _vm.onSubmit, reset: _vm.onReset } },\n            [\n              _c(\"h4\", [\n                _vm._v(\n                  _vm._s(this.session.creating ? \"创建新课\" : _vm.session.name)\n                )\n              ]),\n              _c(\n                \"b-input-group\",\n                { staticClass: \"mt-3\", attrs: { prepend: \"选择日期：\" } },\n                [\n                  _c(\"v-date-picker\", {\n                    attrs: {\n                      locale: \"zh-CN\",\n                      \"input-props\": {\n                        readonly: true\n                      }\n                    },\n                    model: {\n                      value: _vm.session.scheduledAt,\n                      callback: function($$v) {\n                        _vm.$set(_vm.session, \"scheduledAt\", $$v)\n                      },\n                      expression: \"session.scheduledAt\"\n                    }\n                  }),\n                  _c(\n                    \"b-input-group-append\",\n                    [\n                      !_vm.session.creating\n                        ? _c(\n                            \"b-button\",\n                            { attrs: { type: \"reset\", variant: \"warning\" } },\n                            [_c(\"b-icon\", { attrs: { icon: \"x-circle\" } })],\n                            1\n                          )\n                        : _vm._e()\n                    ],\n                    1\n                  )\n                ],\n                1\n              ),\n              _vm.moduleDropdownOptions.length > 1\n                ? _c(\n                    \"b-input-group\",\n                    { staticClass: \"mt-3\", attrs: { prepend: \"选择模块：\" } },\n                    [\n                      _c(\"b-form-select\", {\n                        attrs: { options: _vm.moduleDropdownOptions },\n                        on: { change: _vm.refreshUI },\n                        model: {\n                          value: _vm.session.moduleId,\n                          callback: function($$v) {\n                            _vm.$set(_vm.session, \"moduleId\", $$v)\n                          },\n                          expression: \"session.moduleId\"\n                        }\n                      })\n                    ],\n                    1\n                  )\n                : _vm._e(),\n              _c(\n                \"b-input-group\",\n                { staticClass: \"mt-3\", attrs: { prepend: \"选子模块：\" } },\n                [\n                  _c(\"b-form-select\", {\n                    attrs: { options: _vm.submoduleDropdownOptions },\n                    model: {\n                      value: _vm.session.submoduleId,\n                      callback: function($$v) {\n                        _vm.$set(_vm.session, \"submoduleId\", $$v)\n                      },\n                      expression: \"session.submoduleId\"\n                    }\n                  }),\n                  _c(\n                    \"b-input-group-append\",\n                    [\n                      _vm.canAddSubmodule\n                        ? _c(\n                            \"b-button\",\n                            {\n                              attrs: { variant: \"warning\" },\n                              on: {\n                                click: function($event) {\n                                  return _vm.addSubmodule()\n                                }\n                              }\n                            },\n                            [_vm._v(\"加入上课内容\")]\n                          )\n                        : _vm._e(),\n                      _c(\n                        \"b-button\",\n                        { attrs: { type: \"submit\", variant: \"success\" } },\n                        [_c(\"b-icon\", { attrs: { icon: \"check-circle\" } })],\n                        1\n                      )\n                    ],\n                    1\n                  )\n                ],\n                1\n              ),\n              !_vm.classInfo.singleSubmodule\n                ? _c(\n                    \"div\",\n                    [\n                      _vm._l(_vm.session.submodules, function(\n                        submodule,\n                        index\n                      ) {\n                        return _c(\n                          \"b-input-group\",\n                          {\n                            key: submodule.id + index,\n                            staticClass: \"mt-3\",\n                            attrs: { prepend: \"上课内容：\" }\n                          },\n                          [\n                            _c(\"b-form-input\", {\n                              attrs: {\n                                readonly: \"\",\n                                value: \"(\" + (index + 1) + \") \" + submodule.name\n                              }\n                            }),\n                            _c(\n                              \"b-input-group-append\",\n                              [\n                                _c(\n                                  \"b-button\",\n                                  {\n                                    attrs: { variant: \"warning\" },\n                                    on: {\n                                      click: function($event) {\n                                        return _vm.removeSubmodule(index)\n                                      }\n                                    }\n                                  },\n                                  [_vm._v(\"删除\")]\n                                )\n                              ],\n                              1\n                            )\n                          ],\n                          1\n                        )\n                      }),\n                      _vm.session.submodules.length > 0\n                        ? _c(\n                            \"b-input-group\",\n                            {\n                              staticClass: \"mt-3\",\n                              attrs: { prepend: \"上课名称：\" }\n                            },\n                            [\n                              _c(\"b-form-input\", {\n                                model: {\n                                  value: _vm.session.name,\n                                  callback: function($$v) {\n                                    _vm.$set(_vm.session, \"name\", $$v)\n                                  },\n                                  expression: \"session.name\"\n                                }\n                              })\n                            ],\n                            1\n                          )\n                        : _vm._e()\n                    ],\n                    2\n                  )\n                : _vm._e(),\n              !_vm.session.creating\n                ? _c(\n                    \"div\",\n                    [\n                      _c(\n                        \"b-input-group\",\n                        {\n                          staticClass: \"mt-3\",\n                          attrs: { prepend: \"材料链接：\", type: \"url\" }\n                        },\n                        [\n                          _c(\"b-form-input\", {\n                            model: {\n                              value: _vm.session.materialUrl,\n                              callback: function($$v) {\n                                _vm.$set(_vm.session, \"materialUrl\", $$v)\n                              },\n                              expression: \"session.materialUrl\"\n                            }\n                          })\n                        ],\n                        1\n                      ),\n                      _c(\n                        \"b-input-group\",\n                        {\n                          staticClass: \"mt-3\",\n                          attrs: { prepend: \"材料名称：\" }\n                        },\n                        [\n                          _c(\"b-form-input\", {\n                            model: {\n                              value: _vm.session.materialName,\n                              callback: function($$v) {\n                                _vm.$set(_vm.session, \"materialName\", $$v)\n                              },\n                              expression: \"session.materialName\"\n                            }\n                          }),\n                          _c(\n                            \"b-button\",\n                            {\n                              attrs: { variant: \"warning\" },\n                              on: {\n                                click: function($event) {\n                                  return _vm.addMaterial()\n                                }\n                              }\n                            },\n                            [_vm._v(\"加入上课材料\")]\n                          )\n                        ],\n                        1\n                      ),\n                      _vm._l(_vm.session.materials, function(material, index) {\n                        return _c(\n                          \"b-input-group\",\n                          {\n                            key: material.url + index,\n                            staticClass: \"mt-3\",\n                            attrs: { prepend: \"上课材料：\" }\n                          },\n                          [\n                            _c(\"b-form-input\", {\n                              attrs: {\n                                readonly: \"\",\n                                value: \"(\" + (index + 1) + \") \" + material.name\n                              }\n                            }),\n                            _c(\n                              \"b-input-group-append\",\n                              [\n                                _c(\n                                  \"b-button\",\n                                  {\n                                    attrs: { variant: \"warning\" },\n                                    on: {\n                                      click: function($event) {\n                                        return _vm.removeMaterial(index)\n                                      }\n                                    }\n                                  },\n                                  [_vm._v(\"删除\")]\n                                )\n                              ],\n                              1\n                            )\n                          ],\n                          1\n                        )\n                      })\n                    ],\n                    2\n                  )\n                : _vm._e(),\n              _c(\"b-form-textarea\", {\n                attrs: {\n                  placeholder: \"输入上课通知\",\n                  rows: \"8\",\n                  \"max-rows\": \"20\"\n                },\n                model: {\n                  value: _vm.session.description,\n                  callback: function($$v) {\n                    _vm.$set(_vm.session, \"description\", $$v)\n                  },\n                  expression: \"session.description\"\n                }\n              })\n            ],\n            1\n          )\n        : _c(\n            \"b-card\",\n            { staticClass: \"text-center\", attrs: { header: _vm.session.name } },\n            [\n              _c(\n                \"b-card-text\",\n                [\n                  _c(\n                    \"b-input-group\",\n                    { staticClass: \"mt-3\", attrs: { prepend: \"上课时间：\" } },\n                    [\n                      _c(\"b-form-input\", {\n                        attrs: { readonly: \"\" },\n                        model: {\n                          value: _vm.session.scheduledAtLocalDateTimeString,\n                          callback: function($$v) {\n                            _vm.$set(\n                              _vm.session,\n                              \"scheduledAtLocalDateTimeString\",\n                              $$v\n                            )\n                          },\n                          expression: \"session.scheduledAtLocalDateTimeString\"\n                        }\n                      }),\n                      _c(\n                        \"b-input-group-append\",\n                        [\n                          !_vm.forApplication &&\n                          _vm.classInfo &&\n                          !_vm.session.creating &&\n                          (_vm.isClassAdmin || _vm.isTeachingAssistant)\n                            ? _c(\n                                \"b-button\",\n                                {\n                                  attrs: { variant: \"warning\" },\n                                  on: { click: _vm.editSession }\n                                },\n                                [_vm._v(\"修改\")]\n                              )\n                            : _vm._e(),\n                          _c(\n                            \"b-button\",\n                            {\n                              attrs: { variant: \"info\" },\n                              on: {\n                                click: function($event) {\n                                  _vm.session.showMoreDetails = !_vm.session\n                                    .showMoreDetails\n                                }\n                              }\n                            },\n                            [\n                              _vm.session.showMoreDetails\n                                ? _c(\"b-icon\", {\n                                    attrs: { icon: \"chevron-double-up\" }\n                                  })\n                                : _c(\"b-icon\", {\n                                    attrs: { icon: \"chevron-double-down\" }\n                                  })\n                            ],\n                            1\n                          )\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  ),\n                  _vm.sessionDetails.submodules.length == 1\n                    ? _c(\n                        \"b-input-group\",\n                        {\n                          staticClass: \"mt-3\",\n                          attrs: { prepend: \"课前学习：\" }\n                        },\n                        [\n                          _c(\"b-form-input\", {\n                            attrs: { readonly: \"\" },\n                            model: {\n                              value: _vm.session.prestudyState,\n                              callback: function($$v) {\n                                _vm.$set(_vm.session, \"prestudyState\", $$v)\n                              },\n                              expression: \"session.prestudyState\"\n                            }\n                          }),\n                          _c(\n                            \"b-input-group-append\",\n                            [\n                              _vm.needToShowPrestudyButton(0)\n                                ? _c(\n                                    \"b-button\",\n                                    {\n                                      attrs: { variant: \"success\" },\n                                      on: {\n                                        click: function($event) {\n                                          return _vm.updatePrestudyState(0)\n                                        }\n                                      }\n                                    },\n                                    [_vm._v(\"圆满\")]\n                                  )\n                                : _vm._e(),\n                              _c(\n                                \"b-button\",\n                                {\n                                  attrs: {\n                                    variant: \"info\",\n                                    href: _vm.sessionDetails.submodules[0].url,\n                                    target: \"_blank\"\n                                  }\n                                },\n                                [_c(\"b-icon\", { attrs: { icon: \"book\" } })],\n                                1\n                              )\n                            ],\n                            1\n                          )\n                        ],\n                        1\n                      )\n                    : _vm._l(_vm.sessionDetails.submodules, function(\n                        submodule,\n                        index\n                      ) {\n                        return _c(\n                          \"div\",\n                          { key: submodule.id + index },\n                          [\n                            _c(\n                              \"b-link\",\n                              {\n                                attrs: { href: submodule.url, target: \"_blank\" }\n                              },\n                              [\n                                _vm._v(\n                                  _vm._s(\n                                    \"(\" + (index + 1) + \") \" + submodule.name\n                                  )\n                                )\n                              ]\n                            ),\n                            _c(\n                              \"b-input-group\",\n                              {\n                                staticClass: \"mt-3\",\n                                attrs: { prepend: \"课前学习：\" }\n                              },\n                              [\n                                _c(\"b-form-input\", {\n                                  attrs: {\n                                    readonly: \"\",\n                                    value: _vm.toPrestudyStateString(\n                                      _vm.sessionDetails,\n                                      index\n                                    )\n                                  }\n                                }),\n                                _c(\n                                  \"b-input-group-append\",\n                                  [\n                                    _vm.needToShowPrestudyButton(index)\n                                      ? _c(\n                                          \"b-button\",\n                                          {\n                                            attrs: { variant: \"success\" },\n                                            on: {\n                                              click: function($event) {\n                                                return _vm.updatePrestudyState(\n                                                  index\n                                                )\n                                              }\n                                            }\n                                          },\n                                          [_vm._v(\"圆满\")]\n                                        )\n                                      : _vm._e(),\n                                    _c(\n                                      \"b-button\",\n                                      {\n                                        attrs: {\n                                          variant: \"info\",\n                                          href: submodule.url,\n                                          target: \"_blank\"\n                                        }\n                                      },\n                                      [\n                                        _c(\"b-icon\", {\n                                          attrs: { icon: \"book\" }\n                                        })\n                                      ],\n                                      1\n                                    )\n                                  ],\n                                  1\n                                )\n                              ],\n                              1\n                            )\n                          ],\n                          1\n                        )\n                      }),\n                  !_vm.session.forApplication\n                    ? _c(\n                        \"b-input-group\",\n                        {\n                          staticClass: \"mt-3\",\n                          attrs: { prepend: \"共修出席：\" }\n                        },\n                        [\n                          _c(\"b-form-input\", {\n                            attrs: { readonly: \"\" },\n                            model: {\n                              value: _vm.session.attendanceState,\n                              callback: function($$v) {\n                                _vm.$set(_vm.session, \"attendanceState\", $$v)\n                              },\n                              expression: \"session.attendanceState\"\n                            }\n                          }),\n                          _c(\n                            \"b-input-group-append\",\n                            [\n                              _vm.needToShowAttendanceButton()\n                                ? _c(\n                                    \"b-button\",\n                                    {\n                                      attrs: { variant: \"success\" },\n                                      on: {\n                                        click: function($event) {\n                                          return _vm.updateAttendance(false)\n                                        }\n                                      }\n                                    },\n                                    [\n                                      _vm._v(\n                                        _vm._s(_vm.attendanceButtonName(false))\n                                      )\n                                    ]\n                                  )\n                                : _vm._e(),\n                              _vm.needToShowAttendanceButton() &&\n                              _vm.session.needTwoAttendanceButtons\n                                ? _c(\n                                    \"b-button\",\n                                    {\n                                      attrs: { variant: \"warning\" },\n                                      on: {\n                                        click: function($event) {\n                                          return _vm.updateAttendance(true)\n                                        }\n                                      }\n                                    },\n                                    [\n                                      _vm._v(\n                                        _vm._s(_vm.attendanceButtonName(true))\n                                      )\n                                    ]\n                                  )\n                                : _vm._e()\n                            ],\n                            1\n                          )\n                        ],\n                        1\n                      )\n                    : _vm._e(),\n                  _vm.session.showMoreDetails\n                    ? _c(\n                        \"div\",\n                        [\n                          _vm._l(_vm.session.materials, function(\n                            material,\n                            index\n                          ) {\n                            return _c(\n                              \"b-input-group\",\n                              {\n                                key: material.url + index,\n                                staticClass: \"mt-3\",\n                                attrs: { prepend: \"上课材料：\" }\n                              },\n                              [\n                                _c(\"b-form-input\", {\n                                  attrs: {\n                                    readonly: \"\",\n                                    value:\n                                      \"(\" + (index + 1) + \") \" + material.name\n                                  }\n                                }),\n                                _c(\n                                  \"b-input-group-append\",\n                                  [\n                                    _c(\n                                      \"b-button\",\n                                      {\n                                        attrs: {\n                                          variant: \"info\",\n                                          href: material.url,\n                                          target: \"_blank\"\n                                        }\n                                      },\n                                      [\n                                        _c(\"b-icon\", {\n                                          attrs: { icon: \"book\" }\n                                        })\n                                      ],\n                                      1\n                                    )\n                                  ],\n                                  1\n                                )\n                              ],\n                              1\n                            )\n                          }),\n                          _c(\"b-form-textarea\", {\n                            attrs: {\n                              placeholder: \"\",\n                              rows: \"8\",\n                              \"max-rows\": \"20\",\n                              readonly: \"\"\n                            },\n                            model: {\n                              value: _vm.session.description,\n                              callback: function($$v) {\n                                _vm.$set(_vm.session, \"description\", $$v)\n                              },\n                              expression: \"session.description\"\n                            }\n                          })\n                        ],\n                        2\n                      )\n                    : _vm._e()\n                ],\n                2\n              )\n            ],\n            1\n          )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","import { render, staticRenderFns } from \"./ClassSession.vue?vue&type=template&id=0c6ebf2e&\"\nimport script from \"./ClassSession.vue?vue&type=script&lang=js&\"\nexport * from \"./ClassSession.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/donghao/Documents/code/buddha/wcsbs/code/wcsbs-online/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0c6ebf2e')) {\n      api.createRecord('0c6ebf2e', component.options)\n    } else {\n      api.reload('0c6ebf2e', component.options)\n    }\n    module.hot.accept(\"./ClassSession.vue?vue&type=template&id=0c6ebf2e&\", function () {\n      api.rerender('0c6ebf2e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/ClassSession.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassSession.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassSession.vue?vue&type=script&lang=js&\"","export * from \"-!../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"39b0302d-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassSession.vue?vue&type=template&id=0c6ebf2e&\""],"sourceRoot":""}