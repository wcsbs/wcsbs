{"version":3,"sources":["webpack:///src/views/CountList.vue","webpack:///./src/views/CountList.vue?e937","webpack:///./src/views/CountList.vue","webpack:///./src/views/CountList.vue?e674","webpack:///./src/views/CountList.vue?b0ab"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AAEA;AACA,mBADA;AAEA;AACA;AADA,GAFA;AAKA,8BACA,oGADA,CALA;AAQA,kBARA,4BAQA,EARA,EAQA,IARA,EAQA,IARA,EAQA;AACA;AACA;AACA;AAEA;AACA;AACA,KAFA;AAGA,GAhBA;AAiBA;AACA,4BADA,sCACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA,6EACA,CADA,EAEA,GAFA,CAEA,OAFA;AAGA;AACA,SARA,MAQA;AACA;AACA,2DADA;AAEA,qEAFA;AAGA,uDACA,mCADA,EAEA,GAFA,CAEA,OAFA;AAHA;AAOA;AACA;;AACA;AACA;AAvBA,GAjBA;AA0CA,SA1CA,qBA0CA,CACA;AACA;AA5CA,G;;;;;;;;;;;;ACtBA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA,iBAAiB,sCAAsC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAAwF;AAC3B;AACL;;;AAGxD;AAC0F;AAC1F,gBAAgB,2GAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,IAAU;AACd,YAAY,mBAAO,CAAC,wGAA4G;AAChI,cAAc,mBAAO,CAAC,uDAAK;AAC3B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,gHAAgD,EAAE;AAAA;AACxE;AACA,gBAAgB,oFAAM;AACtB,yBAAyB,6FAAe;AACxC,OAAO;AACP,KAAK;AACL;AACA;AACA;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAsR,CAAgB,0UAAG,EAAC,C;;;;;;;;;;;;ACA1S;AAAA;AAAA;AAAA;AAAA;AAAA","file":"9.js","sourcesContent":["<template>\n  <div v-if=\"isLoadingPracticeCounts\" class=\"classSession-preview\">\n    正在获取报数记录...\n  </div>\n  <div v-else>\n    <Practice\n      :practice=\"practiceInfo.practice\"\n      :latestPracticeCount=\"buildLatestPracticeCount()\"\n      :practiceCounts=\"practiceInfo.counts\"\n      :practiceSubmodules=\"practiceInfo.practiceSubmodules\"\n      :users=\"practiceInfo.users\"\n      :forAdmin=\"practiceInfo.forAdmin\"\n    />\n  </div>\n</template>\n\n<script>\nimport store from \"@/store\";\nimport { FETCH_PRACTICE_COUNTS } from \"../store/actions.type\";\nimport { mapGetters } from \"vuex\";\nimport Practice from \"@/components/Practice\";\n\nexport default {\n  name: \"CountList\",\n  components: {\n    Practice\n  },\n  computed: {\n    ...mapGetters([\"isLoadingPracticeCounts\", \"practiceInfo\"])\n  },\n  beforeRouteEnter(to, from, next) {\n    const practiceId = to.params.practiceId;\n    const forAdmin = to.params.forAdmin;\n    console.log(`forAdmin: ${forAdmin} practiceId: ${practiceId}`);\n\n    store.dispatch(FETCH_PRACTICE_COUNTS, to.params).then(() => {\n      next();\n    });\n  },\n  methods: {\n    buildLatestPracticeCount() {\n      var latestPracticeCount = {};\n      if (this.practiceInfo.counts[0]) {\n        if (this.practiceInfo.forAdmin) {\n          latestPracticeCount.reportedAt = new Date();\n          latestPracticeCount.accumulatedCount = 0;\n          for (var i = 0; i < this.practiceInfo.counts.length; i++) {\n            latestPracticeCount.accumulatedCount += this.practiceInfo.counts[\n              i\n            ].get(\"count\");\n          }\n        } else {\n          latestPracticeCount = {\n            count: this.practiceInfo.counts[0].get(\"count\"),\n            reportedAt: this.practiceInfo.counts[0].get(\"reportedAt\"),\n            accumulatedCount: this.practiceInfo.counts[\n              this.practiceInfo.counts.length - 1\n            ].get(\"count\")\n          };\n        }\n      }\n      return latestPracticeCount;\n    }\n  },\n  mounted() {\n    //this.$forceUpdate();\n  }\n};\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm.isLoadingPracticeCounts\n    ? _c(\"div\", { staticClass: \"classSession-preview\" }, [\n        _vm._v(\"\\n  正在获取报数记录...\\n\")\n      ])\n    : _c(\n        \"div\",\n        [\n          _c(\"Practice\", {\n            attrs: {\n              practice: _vm.practiceInfo.practice,\n              latestPracticeCount: _vm.buildLatestPracticeCount(),\n              practiceCounts: _vm.practiceInfo.counts,\n              practiceSubmodules: _vm.practiceInfo.practiceSubmodules,\n              users: _vm.practiceInfo.users,\n              forAdmin: _vm.practiceInfo.forAdmin\n            }\n          })\n        ],\n        1\n      )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./CountList.vue?vue&type=template&id=663f2f03&\"\nimport script from \"./CountList.vue?vue&type=script&lang=js&\"\nexport * from \"./CountList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/donghao/Documents/code/buddha/wcsbs/code/wcsbs-online/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('663f2f03')) {\n      api.createRecord('663f2f03', component.options)\n    } else {\n      api.reload('663f2f03', component.options)\n    }\n    module.hot.accept(\"./CountList.vue?vue&type=template&id=663f2f03&\", function () {\n      api.rerender('663f2f03', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/CountList.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CountList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CountList.vue?vue&type=script&lang=js&\"","export * from \"-!../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"7a23239a-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CountList.vue?vue&type=template&id=663f2f03&\""],"sourceRoot":""}