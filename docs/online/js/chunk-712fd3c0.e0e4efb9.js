(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-712fd3c0"],{bb51:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isLoadingDashboards?s("div",{staticClass:"user-preview"},[t._v("\n    正在获取主页数据...\n  ")]):s("div",[t.home.studentDashboard?s("div",{staticClass:"user-preview"},[s("StudentDashboard",{attrs:{dashboard:t.home.studentDashboard}})],1):s("div",[s("h1",[t._v("TODO")])])])])},a=[],r=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),i=(s("f559"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-preview"},[0===t.dashboard.classes.length?s("div",{staticClass:"user-preview"},[t._v("\n    您还没有参加任何佛学课程！\n  ")]):t._l(t.dashboard.classes,(function(t,e){return s("Class",{key:e,attrs:{buddhaClass:t}})}))],2)}),o=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",{domProps:{textContent:t._s(t.buddhaClass.name)}}),s("h4",[t._v("辅导员："+t._s(t.teachers)+" 师兄")]),s("b-button",{attrs:{block:"",variant:"info",href:t.buddhaClass.url,target:"_blank"}},[t._v("学习资料网页")]),0===t.buddhaClass.classSessions.length?s("div",{staticClass:"user-preview"},[t._v("\n    还没有开课，敬请期待！\n  ")]):s("div",{staticClass:"user-preview"},[s("h4",[t._v("正在闻思")]),t._l(t.buddhaClass.classSessions,(function(t,e){return s("ClassSession",{key:t.id+e,attrs:{classSession:t}})})),s("b-button",{attrs:{block:"",variant:"info",href:t.buddhaClass.url,target:"_blank"}},[t._v("查看上课记录")]),t.buddhaClass.practices.length>0?s("h4",[t._v("正在实修")]):t._e(),t._l(t.buddhaClass.practices,(function(t,e){return s("Practice",{key:t.id+e,attrs:{practice:t}})}))],2)],1)},l=[],u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-card",{staticClass:"text-center",attrs:{header:t.session.name}},[s("b-card-text",[s("b-input-group",{staticClass:"mt-3",attrs:{prepend:"上课时间："}},[s("b-form-input",{attrs:{readonly:""},model:{value:t.session.scheduledAtLocalDateTimeString,callback:function(e){t.$set(t.session,"scheduledAtLocalDateTimeString",e)},expression:"session.scheduledAtLocalDateTimeString"}}),s("b-input-group-append",[s("b-button",{attrs:{variant:"info",href:t.session.url,target:"_blank"}},[s("b-icon",{attrs:{icon:"calendar-plus"}})],1)],1)],1),s("b-input-group",{staticClass:"mt-3",attrs:{prepend:"课前学习："}},[s("b-form-input",{attrs:{readonly:""},model:{value:t.session.materialState,callback:function(e){t.$set(t.session,"materialState",e)},expression:"session.materialState"}}),s("b-input-group-append",[s("b-button",{attrs:{variant:"info",href:t.session.url,target:"_blank"}},[s("b-icon",{attrs:{icon:"book"}})],1)],1)],1),s("b-input-group",{staticClass:"mt-3",attrs:{prepend:"上课出勤："}},[s("b-form-input",{attrs:{readonly:""},model:{value:t.session.attendanceState,callback:function(e){t.$set(t.session,"attendanceState",e)},expression:"session.attendanceState"}}),s("b-input-group-append",[s("b-button",{attrs:{variant:"warning"}},[t._v(t._s(t.attendanceButtonName()))]),s("b-button",{attrs:{variant:"info"},on:{click:function(e){t.session.showDescription=!t.session.showDescription}}},[t.session.showDescription?s("b-icon",{attrs:{icon:"chevron-double-up"}}):s("b-icon",{attrs:{icon:"chevron-double-down"}})],1)],1)],1),t.session.showDescription?s("b-form-textarea",{attrs:{placeholder:"Auto height textarea",rows:"3","max-rows":"8"},model:{value:t.session.description,callback:function(e){t.$set(t.session,"description",e)},expression:"session.description"}}):t._e()],1)],1)],1)},d=[],p={name:"ClassSession",props:{classSession:{type:Object,required:!0}},data:function(){return{session:{id:this.classSession.get("objectId"),name:this.classSession.get("name"),url:this.classSession.get("url"),description:this.classSession.get("description"),scheduledAt:this.classSession.get("scheduledAt"),scheduledAtLocalDateTimeString:this.toLocalDateTimeString(this.classSession.get("scheduledAt")),showDescription:!1,attendanceState:"未报考勤",materialState:"未看传承/未看法本"}}},methods:{toLocalDateTimeString:function(t){var e={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};return t.toLocaleDateString("zh-CN",e)},attendanceButtonName:function(){var t=new Date;return t<this.classSession.get("scheduledAt")?"我要请假":"我要报考勤"}}},b=p,h=s("2877"),m=Object(h["a"])(b,u,d,!1,null,null,null),f=m.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-card",{staticClass:"text-center",attrs:{header:t.practiceObj.name}},[s("b-card-text",[s("b-input-group",{staticClass:"mt-3",attrs:{prepend:"最新报数："}},[s("b-form-input",{attrs:{readonly:""},model:{value:t.practiceObj.practiceReportingState,callback:function(e){t.$set(t.practiceObj,"practiceReportingState",e)},expression:"practiceObj.practiceReportingState"}}),s("b-input-group-append",[s("b-button",{attrs:{variant:"warning"}},[t._v("我要报数")]),s("b-button",{attrs:{variant:"info"},on:{click:function(e){t.practiceObj.showDescription=!t.practiceObj.showDescription}}},[t.practiceObj.showDescription?s("b-icon",{attrs:{icon:"chevron-double-up"}}):s("b-icon",{attrs:{icon:"chevron-double-down"}})],1)],1)],1),t.practiceObj.showDescription?s("b-form-textarea",{attrs:{placeholder:"Auto height textarea",rows:"3","max-rows":"8"},model:{value:t.practiceObj.description,callback:function(e){t.$set(t.practiceObj,"description",e)},expression:"practiceObj.description"}}):t._e()],1)],1)],1)},g=[],O={name:"Practice",props:{practice:{type:Object,required:!0}},data:function(){return{practiceObj:{id:this.practice.get("objectId"),name:this.practice.get("name"),description:this.practice.get("description"),showDescription:!1,practiceReportingState:"未报数"}}},methods:{toLocalDateTimeString:function(t){var e={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};return t.toLocaleDateString("zh-CN",e)}}},S=O,j=Object(h["a"])(S,v,g,!1,null,null,null),w=j.exports,_={name:"Class",components:{ClassSession:f,Practice:w},props:{buddhaClass:{type:Object,required:!0}},data:function(){return{teachers:this.buddhaClass.teachers.join()}},methods:{createUser:function(){this.$router.push({name:"userCreate"})}}},C=_,D=Object(h["a"])(C,c,l,!1,null,null,null),y=D.exports,k={name:"StudentDashboard",props:{dashboard:{type:Object,required:!0}},components:{Class:y}},x=k,P=Object(h["a"])(x,i,o,!1,null,null,null),$=P.exports,L=s("2f62"),A=s("6c33"),E=s("4360");function T(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function R(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?T(Object(s),!0).forEach((function(e){Object(r["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):T(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var q={name:"Home",components:{StudentDashboard:$},beforeRouteEnter:function(t,e,s){console.log("from: ".concat(e.path)),e&&e.path&&e.path.startsWith("/home")?s():E["a"].dispatch(A["c"]).then((function(){s()}))},computed:R({},Object(L["b"])(["home","isLoadingDashboards"])),mounted:function(){}},N=q,W=Object(h["a"])(N,n,a,!1,null,null,null);e["default"]=W.exports},f559:function(t,e,s){"use strict";var n=s("5ca1"),a=s("9def"),r=s("d2c8"),i="startsWith",o=""[i];n(n.P+n.F*s("5147")(i),"String",{startsWith:function(t){var e=r(this,t,i),s=a(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return o?o.call(e,n,s):e.slice(s,s+n.length)===n}})}}]);
//# sourceMappingURL=chunk-712fd3c0.e0e4efb9.js.map