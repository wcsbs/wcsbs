{"version":3,"sources":["webpack:///./src/components/ClassSession.vue?4fcb","webpack:///src/components/ClassSession.vue","webpack:///./src/components/ClassSession.vue?c84f","webpack:///./src/components/ClassSession.vue","webpack:///./src/components/Class.vue?b6f7","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js","webpack:///./src/views/Home.vue?bccc","webpack:///./src/components/StudentDashboard.vue?22ea","webpack:///./src/components/Class.vue?b315","webpack:///src/components/Class.vue","webpack:///./src/components/Class.vue?9d14","webpack:///./src/components/Class.vue?3f2c","webpack:///src/components/StudentDashboard.vue","webpack:///./src/components/StudentDashboard.vue?641a","webpack:///./src/components/StudentDashboard.vue","webpack:///./src/components/AdminDashboard.vue?a326","webpack:///src/components/AdminDashboard.vue","webpack:///./src/components/AdminDashboard.vue?5352","webpack:///./src/components/AdminDashboard.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue?c853","webpack:///./src/views/Home.vue?56d4","webpack:///./node_modules/core-js/modules/es6.string.starts-with.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","onSubmit","onReset","_v","_s","session","name","staticClass","attrs","directives","rawName","value","expression","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","_l","newSession","key","id","domProps","creating","_e","model","callback","$$v","readonly","newSessions","isClassAdmin","isTeachingAssistant","editSession","addToGoogleCalendarUrl","url","forApplication","needToShowAttendanceButton","updateAttendance","attendanceButtonName","showDescription","staticRenderFns","props","classSession","attendance","classInfo","Boolean","data","dummy","sessionDropdownOptions","editing","computed","mounted","buildSessionDropdownOptions","methods","initSession","get","description","scheduledAt","scheduledAtLocalDateTimeString","toLocalDateTimeString","attendanceState","toAttendanceStateString","materialState","toMaterialStateString","console","log","currentSessionPushed","i","length","push","currentSession","s","year","month","day","hour","minute","date","toLocaleDateString","toLocalDateString","isStudent","cutoffTime","Date","setHours","today","getTime","shangKe","qingJia","undefined","chuanCheng","faBen","eventStart","eventEnd","setTime","encodeURI","d","msg","okText","cancelText","loader","title","body","$dialog","evt","preventDefault","oldId","dt","includes","component","anObject","toObject","toLength","toInteger","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","String","defined","REPLACE","$replace","maybeCallNative","searchValue","replaceValue","O","fn","regexp","res","done","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","result","matchStr","accumulatedResult","nextSourcePosition","matched","position","index","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","apply","getSubstitution","slice","str","tailPos","m","symbols","match","ch","capture","charAt","n","f","home","studentDashboardTitle","studentDashboard","classAdminDashboardTitle","classAdminDashboard","systemAdminDashboard","dashboard","enrolledClasses","buddhaClass","newClasses","teachers","items","listSession","classSessions","attendances","practices","practice","counts","classSnapshot","components","ClassSession","Practice","join","$router","params","classId","forAdmin","Class","classes","StudentDashboard","AdminDashboard","beforeRouteEnter","from","path","startsWith","next","store","$export","context","STARTS_WITH","$startsWith","P","F","searchString","that","arguments","search"],"mappings":"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","file":"js/chunk-03545790.8d40aa36.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.editing)?_c('b-form',{on:{\"submit\":_vm.onSubmit,\"reset\":_vm.onReset}},[_c('h4',[_vm._v(_vm._s(_vm.session.name ? _vm.session.name : \"创建新课\"))]),_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":\"选择课程：\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.session.id),expression:\"session.id\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.session, \"id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.sessionDropdownOptions),function(newSession){return _c('option',{key:newSession.id,domProps:{\"value\":newSession.id}},[_vm._v(_vm._s(newSession.name))])}),0),_c('b-input-group-append',[(!_vm.session.creating)?_c('b-button',{attrs:{\"type\":\"reset\",\"variant\":\"warning\"}},[_c('b-icon',{attrs:{\"icon\":\"x-circle\"}})],1):_vm._e()],1)],1),_c('b-form-textarea',{attrs:{\"placeholder\":\"输入上课通知\",\"rows\":\"8\",\"max-rows\":\"20\"},model:{value:(_vm.session.description),callback:function ($$v) {_vm.$set(_vm.session, \"description\", $$v)},expression:\"session.description\"}}),_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":\"选择日期：\"}},[_c('v-date-picker',{attrs:{\"locale\":\"zh-CN\",\"input-props\":{\n          readonly: true\n        }},model:{value:(_vm.session.scheduledAt),callback:function ($$v) {_vm.$set(_vm.session, \"scheduledAt\", $$v)},expression:\"session.scheduledAt\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"success\"}},[_c('b-icon',{attrs:{\"icon\":\"check-circle\"}})],1)],1)],1)],1):_c('b-card',{staticClass:\"text-center\",attrs:{\"header\":_vm.session.name}},[_c('b-card-text',[_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":\"上课时间：\"}},[_c('b-form-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.session.scheduledAtLocalDateTimeString),callback:function ($$v) {_vm.$set(_vm.session, \"scheduledAtLocalDateTimeString\", $$v)},expression:\"session.scheduledAtLocalDateTimeString\"}}),_c('b-input-group-append',[(_vm.newSessions && (_vm.isClassAdmin || _vm.isTeachingAssistant))?_c('b-button',{attrs:{\"variant\":\"warning\"},on:{\"click\":_vm.editSession}},[_vm._v(\"修改\")]):_vm._e(),_c('b-button',{attrs:{\"variant\":\"info\",\"href\":_vm.addToGoogleCalendarUrl(),\"target\":\"_blank\"}},[_c('b-icon',{attrs:{\"icon\":\"calendar-plus\"}})],1)],1)],1),_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":\"课前学习：\"}},[_c('b-form-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.session.materialState),callback:function ($$v) {_vm.$set(_vm.session, \"materialState\", $$v)},expression:\"session.materialState\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"info\",\"href\":_vm.session.url,\"target\":\"_blank\"}},[_c('b-icon',{attrs:{\"icon\":\"book\"}})],1)],1)],1),(!_vm.session.forApplication)?_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":\"上课出勤：\"}},[_c('b-form-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.session.attendanceState),callback:function ($$v) {_vm.$set(_vm.session, \"attendanceState\", $$v)},expression:\"session.attendanceState\"}}),_c('b-input-group-append',[(_vm.needToShowAttendanceButton())?_c('b-button',{attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.updateAttendance()}}},[_vm._v(_vm._s(_vm.attendanceButtonName()))]):_vm._e(),_c('b-button',{attrs:{\"variant\":\"info\"},on:{\"click\":function($event){_vm.session.showDescription = !_vm.session.showDescription}}},[(_vm.session.showDescription)?_c('b-icon',{attrs:{\"icon\":\"chevron-double-up\"}}):_c('b-icon',{attrs:{\"icon\":\"chevron-double-down\"}})],1)],1)],1):_vm._e(),(_vm.session.showDescription)?_c('b-form-textarea',{attrs:{\"placeholder\":\"Auto height textarea\",\"rows\":\"3\",\"max-rows\":\"8\",\"readonly\":\"\"},model:{value:(_vm.session.description),callback:function ($$v) {_vm.$set(_vm.session, \"description\", $$v)},expression:\"session.description\"}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-form v-if=\"editing\" @submit=\"onSubmit\" @reset=\"onReset\">\n      <h4>{{ session.name ? session.name : \"创建新课\" }}</h4>\n      <b-input-group prepend=\"选择课程：\" class=\"mt-3\">\n        <select v-model=\"session.id\">\n          <option\n            v-for=\"newSession in sessionDropdownOptions\"\n            v-bind:key=\"newSession.id\"\n            v-bind:value=\"newSession.id\"\n            >{{ newSession.name }}</option\n          >\n        </select>\n        <b-input-group-append>\n          <b-button v-if=\"!session.creating\" type=\"reset\" variant=\"warning\">\n            <b-icon icon=\"x-circle\"></b-icon>\n          </b-button>\n        </b-input-group-append>\n      </b-input-group>\n      <b-form-textarea\n        v-model=\"session.description\"\n        placeholder=\"输入上课通知\"\n        rows=\"8\"\n        max-rows=\"20\"\n      ></b-form-textarea>\n      <b-input-group prepend=\"选择日期：\" class=\"mt-3\">\n        <v-date-picker\n          locale=\"zh-CN\"\n          v-model=\"session.scheduledAt\"\n          :input-props=\"{\n            readonly: true\n          }\"\n        />\n        <b-input-group-append>\n          <b-button type=\"submit\" variant=\"success\">\n            <b-icon icon=\"check-circle\"></b-icon>\n          </b-button>\n        </b-input-group-append>\n      </b-input-group>\n    </b-form>\n    <b-card v-else class=\"text-center\" :header=\"session.name\">\n      <b-card-text>\n        <b-input-group prepend=\"上课时间：\" class=\"mt-3\">\n          <b-form-input\n            readonly\n            v-model=\"session.scheduledAtLocalDateTimeString\"\n          ></b-form-input>\n          <b-input-group-append>\n            <b-button\n              variant=\"warning\"\n              v-if=\"newSessions && (isClassAdmin || isTeachingAssistant)\"\n              v-on:click=\"editSession\"\n              >修改</b-button\n            >\n            <b-button\n              variant=\"info\"\n              :href=\"addToGoogleCalendarUrl()\"\n              target=\"_blank\"\n            >\n              <b-icon icon=\"calendar-plus\"></b-icon>\n            </b-button>\n          </b-input-group-append>\n        </b-input-group>\n        <b-input-group prepend=\"课前学习：\" class=\"mt-3\">\n          <b-form-input readonly v-model=\"session.materialState\"></b-form-input>\n          <b-input-group-append>\n            <b-button variant=\"info\" :href=\"session.url\" target=\"_blank\">\n              <b-icon icon=\"book\"></b-icon>\n            </b-button>\n          </b-input-group-append>\n        </b-input-group>\n        <b-input-group\n          v-if=\"!session.forApplication\"\n          prepend=\"上课出勤：\"\n          class=\"mt-3\"\n        >\n          <b-form-input\n            readonly\n            v-model=\"session.attendanceState\"\n          ></b-form-input>\n          <b-input-group-append>\n            <b-button\n              variant=\"warning\"\n              v-if=\"needToShowAttendanceButton()\"\n              v-on:click=\"updateAttendance()\"\n              >{{ attendanceButtonName() }}</b-button\n            >\n            <b-button\n              variant=\"info\"\n              v-on:click=\"session.showDescription = !session.showDescription\"\n            >\n              <b-icon\n                v-if=\"session.showDescription\"\n                icon=\"chevron-double-up\"\n              ></b-icon>\n              <b-icon v-else icon=\"chevron-double-down\"></b-icon>\n            </b-button>\n          </b-input-group-append>\n        </b-input-group>\n        <b-form-textarea\n          v-if=\"session.showDescription\"\n          v-model=\"session.description\"\n          placeholder=\"Auto height textarea\"\n          rows=\"3\"\n          max-rows=\"8\"\n          readonly\n        ></b-form-textarea>\n      </b-card-text>\n    </b-card>\n  </div>\n</template>\n\n<script>\nimport Parse from \"parse\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"ClassSession\",\n  props: {\n    classSession: { type: Object, required: true },\n    attendance: { type: Object, required: false },\n    classInfo: { type: Object, required: false },\n    newSessions: { type: Array, required: false },\n    forApplication: Boolean\n  },\n  data: function() {\n    return {\n      session: this.classSession.dummy\n        ? { creating: true, editing: true }\n        : this.initSession(),\n      sessionDropdownOptions: [],\n      editing: this.classSession.dummy\n    };\n  },\n  computed: {\n    ...mapGetters([\"isClassAdmin\", \"isTeachingAssistant\", \"isStudent\"])\n  },\n  mounted() {\n    this.buildSessionDropdownOptions();\n  },\n  methods: {\n    initSession() {\n      return {\n        id: this.classSession.id,\n        forApplication: this.classInfo\n          ? this.classInfo.forApplication\n          : this.forApplication,\n        name: this.classSession.get(\"name\"),\n        url: this.classSession.get(\"url\"),\n        description: this.classSession.get(\"description\"),\n        scheduledAt: this.classSession.get(\"scheduledAt\"),\n        scheduledAtLocalDateTimeString: this.toLocalDateTimeString(\n          this.classSession.get(\"scheduledAt\")\n        ),\n        showDescription: false,\n        attendanceState: this.toAttendanceStateString(this.attendance),\n        materialState: this.toMaterialStateString(this.attendance)\n      };\n    },\n    buildSessionDropdownOptions() {\n      this.sessionDropdownOptions = [];\n      if (!this.editing) {\n        return;\n      }\n      if (this.classSession.dummy) {\n        this.sessionDropdownOptions = this.newSessions;\n      } else {\n        const currentSession = {\n          id: this.classSession.id,\n          name: this.classSession.get(\"name\")\n        };\n        console.log(`${JSON.stringify(currentSession)}`);\n        const order = parseInt(currentSession.name.match(/(\\d+)/)[0]);\n        var currentSessionPushed = false;\n        for (var i = 0; i < this.newSessions.length; i++) {\n          const s = this.newSessions[i];\n          if (\n            !currentSessionPushed &&\n            parseInt(s.name.match(/(\\d+)/)[0]) > order\n          ) {\n            this.sessionDropdownOptions.push(currentSession);\n            currentSessionPushed = true;\n          }\n          this.sessionDropdownOptions.push(s);\n        }\n      }\n    },\n    toLocalDateTimeString(date) {\n      const options = {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"numeric\"\n      };\n      return date.toLocaleDateString(\"zh-CN\", options);\n    },\n    toLocalDateString(date) {\n      const options = {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\"\n      };\n      return date.toLocaleDateString(\"zh-CN\", options);\n    },\n    needToShowAttendanceButton() {\n      const scheduledAt = this.classSession.get(\"scheduledAt\");\n      if (this.isStudent) {\n        const today = new Date();\n        //student must submit attendance within 3 days\n        var cutoffTime = new Date(\n          scheduledAt.getTime() + 4 * 24 * 60 * 60 * 1000\n        );\n        cutoffTime.setHours(0, 0, 0, 0); //set to midnight\n        // console.log(`needToShowAttendanceButton - cutoffTime: ${cutoffTime}`);\n        return today.getTime() < cutoffTime.getTime();\n      }\n      return false;\n    },\n    toAttendanceStateString(attendance) {\n      if (attendance) {\n        if (typeof attendance.shangKe == \"number\") {\n          return `${attendance.shangKe}人已上课`;\n        }\n        if (attendance.qingJia) {\n          return \"已请假\";\n        }\n        if (attendance.shangKe == true) {\n          return \"已上课\";\n        }\n        if (attendance.shangKe == false && attendance.qingJia == undefined) {\n          return \"未上课\";\n        }\n      }\n\n      return \"未报考勤\";\n    },\n    toMaterialStateString(attendance) {\n      if (this.forApplication) {\n        return \"请在课前看完传承/法本\";\n      }\n      var chuanCheng = \"未看传承\";\n      var faBen = \"未看法本\";\n      if (attendance) {\n        if (typeof attendance.chuanCheng == \"number\") {\n          chuanCheng = `${attendance.chuanCheng}人已看传承`;\n        } else if (attendance.chuanCheng) {\n          chuanCheng = \"已看传承\";\n        }\n        if (typeof attendance.faBen == \"number\") {\n          faBen = `${attendance.faBen}人已看法本`;\n        } else if (attendance.faBen) {\n          faBen = \"已看法本\";\n        }\n      }\n\n      return `${chuanCheng}/${faBen}`;\n    },\n    addToGoogleCalendarUrl() {\n      var eventStart = this.session.scheduledAt;\n      var eventEnd = new Date();\n      eventEnd.setTime(eventStart.getTime() + 4 * 60 * 60 * 1000);\n      eventStart = eventStart\n        .toISOString()\n        .replace(/.000/g, \"\")\n        .replace(/:/g, \"\")\n        .replace(/-/g, \"\");\n      eventEnd = eventEnd\n        .toISOString()\n        .replace(/.000/g, \"\")\n        .replace(/:/g, \"\")\n        .replace(/-/g, \"\");\n      var url = `${this.session.name}&details=${this.session.description}`;\n      url = encodeURI(url);\n      return `https://www.google.com/calendar/render?action=TEMPLATE&text=${url}&dates=${eventStart}%2F${eventEnd}`;\n    },\n    attendanceButtonName() {\n      const d = new Date();\n      if (d < this.classSession.get(\"scheduledAt\")) {\n        if (this.attendance.qingJia) {\n          return \"取消请假\";\n        }\n        return \"我要请假\";\n      } else {\n        if (this.attendance.shangKe != undefined) {\n          return \"我要改考勤\";\n        }\n        return \"我要报考勤\";\n      }\n    },\n    updateAttendance() {\n      const d = new Date();\n      const attendance = {};\n      var msg = \"确认\";\n      if (d < this.classSession.get(\"scheduledAt\")) {\n        if (this.attendance.qingJia) {\n          attendance.qingJia = false;\n          msg += \"取消请假\";\n        } else {\n          attendance.qingJia = true;\n          attendance.shangKe = false;\n          msg += \"请假\";\n        }\n      } else {\n        if (this.attendance.shangKe) {\n          attendance.shangKe = false;\n          msg += \"没有上课\";\n        } else {\n          attendance.shangKe = true;\n          msg += \"已上课\";\n        }\n      }\n\n      const pathname = this.classSession.get(\"url\");\n      const classSession = this;\n      const options = {\n        okText: \"确认\",\n        cancelText: \"取消\",\n        loader: true // default: false - when set to true, the proceed button shows a loader when clicked; and a dialog object will be passed to the then() callback\n      };\n      const message = {\n        title: this.session.name,\n        body: msg + \"?\"\n      };\n      const thisComponent = this;\n\n      this.$dialog\n        .confirm(message, options)\n        .then(function(dialog) {\n          console.log(`${JSON.stringify(dialog)}`);\n          Parse.Cloud.run(\"home:updateAttendance\", { pathname, attendance })\n            .then(result => {\n              console.log(\n                `updateAttendance - result: ${JSON.stringify(result)}`\n              );\n              if (result.qingJia != undefined) {\n                classSession.attendance.qingJia = result.qingJia;\n              }\n              if (result.shangKe != undefined) {\n                classSession.attendance.shangKe = result.shangKe;\n              }\n              classSession.session.attendanceState = classSession.toAttendanceStateString(\n                classSession.attendance\n              );\n              dialog.close();\n            })\n            .catch(e => {\n              console.log(`error in updateAttendance: ${e}`);\n              dialog.close();\n              thisComponent.$dialog.alert(`error in updateAttendance: ${e}`);\n            });\n        })\n        .catch(e => {\n          console.log(`error: ${e}`);\n        });\n    },\n    editSession() {\n      this.session = this.initSession();\n      this.editing = true;\n      this.buildSessionDropdownOptions();\n    },\n    onReset(evt) {\n      evt.preventDefault();\n      this.editing = false;\n    },\n    onSubmit(evt) {\n      evt.preventDefault();\n      const sessionId = this.session.id;\n      console.log(`sessionId: ${sessionId}`);\n\n      const classSession = this.classInfo.classSessions.filter(\n        e => e.id === sessionId\n      )[0];\n\n      const options = {\n        okText: \"确认\",\n        cancelText: \"取消\",\n        loader: true // default: false - when set to true, the proceed button shows a loader when clicked; and a dialog object will be passed to the then() callback\n      };\n      const message = {\n        title: this.classInfo.name,\n        body: `${\n          this.session.creating ? \"创建新课\" : \"修改\"\n        } 《${classSession.get(\"name\")}》 @ ${this.toLocalDateString(\n          this.session.scheduledAt\n        )}？`\n      };\n\n      const session = this.session;\n      session.oldId = this.classSession.id;\n      var dt = new Date(session.scheduledAt);\n      dt.setHours(classSession.get(\"url\").includes(\"rpsxl\") ? 9 : 14); //TODO: allow setting time\n      session.scheduledAt = dt;\n      // console.log(`session.scheduledAt: ${session.scheduledAt}`);\n\n      const thisComponent = this;\n\n      this.$dialog\n        .confirm(message, options)\n        .then(function(dialog) {\n          Parse.Cloud.run(\"class:updateClassSession\", { session })\n            .then(result => {\n              console.log(\n                `updateClassSession - result: ${JSON.stringify(result)}`\n              );\n              dialog.close();\n              // thisComponent.$router.go();\n              window.location.reload();\n            })\n            .catch(e => {\n              console.log(`error in updateClassSession: ${JSON.stringify(e)}`);\n              dialog.close();\n              thisComponent.$dialog.alert(`error in updateClassSession: ${e}`);\n            });\n        })\n        .catch(e => {\n          console.log(`error: ${e}`);\n        });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassSession.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassSession.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClassSession.vue?vue&type=template&id=852307ea&\"\nimport script from \"./ClassSession.vue?vue&type=script&lang=js&\"\nexport * from \"./ClassSession.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Class.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Class.vue?vue&type=style&index=0&lang=css&\"","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isLoadingDashboards)?_c('div',[_vm._v(\"\\n    正在获取主页数据...\\n  \")]):_c('div',[_c('b-tabs',{attrs:{\"pills\":\"\",\"content-class\":\"mt-3\",\"align\":\"center\"}},[(_vm.home.studentDashboard)?_c('b-tab',{attrs:{\"title\":_vm.studentDashboardTitle(),\"title-item-class\":\"mytab\",\"acitve\":\"\"}},[_c('StudentDashboard',{attrs:{\"dashboard\":_vm.home.studentDashboard}})],1):_vm._e(),(_vm.home.classAdminDashboard)?_c('b-tab',{attrs:{\"title\":_vm.classAdminDashboardTitle(),\"title-item-class\":\"mytab\",\"acitve\":\"\"}},[_c('AdminDashboard',{attrs:{\"dashboard\":_vm.home.classAdminDashboard}})],1):_vm._e(),(_vm.home.systemAdminDashboard)?_c('b-tab',{attrs:{\"title\":\"学会全部课程\",\"title-item-class\":\"mytab\",\"acitve\":\"\"}},[_c('AdminDashboard',{attrs:{\"dashboard\":_vm.home.systemAdminDashboard}})],1):_vm._e()],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-preview\"},[(_vm.dashboard.enrolledClasses.length === 0)?_c('div',{staticClass:\"user-preview\"},[_vm._v(\"\\n    您还没有参加任何佛学课程！\\n  \")]):_vm._l((_vm.dashboard.enrolledClasses),function(buddhaClass,index){return _c('Class',{key:buddhaClass.id + index,attrs:{\"buddhaClass\":buddhaClass}})}),(_vm.dashboard.newClasses.length)?_c('h2',[_vm._v(\"学会最新课程\")]):_vm._e(),_vm._l((_vm.dashboard.newClasses),function(buddhaClass,index){return _c('Class',{key:buddhaClass.id + index,attrs:{\"buddhaClass\":buddhaClass,\"forApplication\":true}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',{domProps:{\"textContent\":_vm._s(_vm.buddhaClass.name)}}),_c('h4',[_vm._v(\"\\n    辅导员：\"+_vm._s(_vm.teachers)+\" 师兄  \\n    \"),_c('a',{attrs:{\"href\":_vm.buddhaClass.url,\"target\":\"_blank\"}},[_vm._v(\"学习资料网页\")])]),(_vm.buddhaClass.classSnapshot)?_c('div',[_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.items,\"thead-class\":\"hidden_header\"}})],1):_vm._e(),(_vm.forApplication)?_c('div',[_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"info\"},on:{\"click\":_vm.listSession}},[_vm._v(\"查看详情\")]),_c('hr')],1):_c('div',[_c('div',[_c('h4',[_vm._v(\"正在闻思\")]),(_vm.buddhaClass.classSessions.length === 0)?_c('div',[_vm._v(\"\\n        还没有开课，敬请期待！\\n      \")]):_vm._e(),_vm._l((_vm.buddhaClass.classSessions),function(classSession,index){return _c('ClassSession',{key:classSession.id + index,attrs:{\"classSession\":classSession,\"attendance\":_vm.buddhaClass.attendances[index],\"forApplication\":_vm.forApplication}})}),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"info\"},on:{\"click\":_vm.listSession}},[_vm._v(\"查看详情\")]),_c('hr'),(_vm.buddhaClass.practices.length > 0)?_c('h4',[_vm._v(\"正在实修\")]):_vm._e(),_vm._l((_vm.buddhaClass.practices),function(practice,index){return _c('Practice',{key:practice.id + index,attrs:{\"practice\":practice,\"latestPracticeCount\":_vm.buddhaClass.counts[index],\"forAdmin\":_vm.buddhaClass.classSnapshot != undefined}})})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h3 v-text=\"buddhaClass.name\" />\n    <h4>\n      辅导员：{{ teachers }} 师兄&nbsp;&nbsp;\n      <a :href=\"buddhaClass.url\" target=\"_blank\">学习资料网页</a>\n    </h4>\n    <div v-if=\"buddhaClass.classSnapshot\">\n      <b-table\n        striped\n        hover\n        :items=\"items\"\n        thead-class=\"hidden_header\"\n      ></b-table>\n    </div>\n    <div v-if=\"forApplication\">\n      <b-button block variant=\"info\" @click=\"listSession\">查看详情</b-button>\n      <hr />\n    </div>\n    <div v-else>\n      <div>\n        <h4>正在闻思</h4>\n        <div v-if=\"buddhaClass.classSessions.length === 0\">\n          还没有开课，敬请期待！\n        </div>\n        <ClassSession\n          v-for=\"(classSession, index) in buddhaClass.classSessions\"\n          :classSession=\"classSession\"\n          :attendance=\"buddhaClass.attendances[index]\"\n          :key=\"classSession.id + index\"\n          :forApplication=\"forApplication\"\n        />\n        <b-button block variant=\"info\" @click=\"listSession\">查看详情</b-button>\n        <hr />\n        <h4 v-if=\"buddhaClass.practices.length > 0\">正在实修</h4>\n        <Practice\n          v-for=\"(practice, index) in buddhaClass.practices\"\n          :practice=\"practice\"\n          :latestPracticeCount=\"buddhaClass.counts[index]\"\n          :key=\"practice.id + index\"\n          :forAdmin=\"buddhaClass.classSnapshot != undefined\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ClassSession from \"./ClassSession\";\nimport Practice from \"./Practice\";\n\nexport default {\n  name: \"Class\",\n  components: {\n    ClassSession,\n    Practice\n  },\n  props: {\n    buddhaClass: { type: Object, required: true },\n    forApplication: Boolean\n  },\n  data: function() {\n    return {\n      teachers: this.buddhaClass.teachers.join(),\n      items: this.buddhaClass.classSnapshot\n        ? [\n            {\n              key: \"学生人数\",\n              value: this.buddhaClass.classSnapshot.studentCount\n            },\n            {\n              key: \"总计上课\",\n              value: this.buddhaClass.classSnapshot.sessionTotal\n            },\n            {\n              key: \"已计划上课\",\n              value: this.buddhaClass.classSnapshot.sessionScheduled\n            },\n            {\n              key: \" 已完成上课\",\n              value: this.buddhaClass.classSnapshot.sessionCompleted\n            }\n          ]\n        : []\n    };\n  },\n  methods: {\n    listSession() {\n      this.$router.push({\n        name: \"session-management\",\n        params: {\n          classId: this.buddhaClass.id,\n          forApplication: this.forApplication,\n          forAdmin: this.buddhaClass.classSnapshot != undefined\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style>\n.hidden_header {\n  display: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Class.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Class.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Class.vue?vue&type=template&id=0d07f3d3&\"\nimport script from \"./Class.vue?vue&type=script&lang=js&\"\nexport * from \"./Class.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Class.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"user-preview\">\n    <div v-if=\"dashboard.enrolledClasses.length === 0\" class=\"user-preview\">\n      您还没有参加任何佛学课程！\n    </div>\n    <Class\n      v-else\n      v-for=\"(buddhaClass, index) in dashboard.enrolledClasses\"\n      :buddhaClass=\"buddhaClass\"\n      :key=\"buddhaClass.id + index\"\n    />\n    <h2 v-if=\"dashboard.newClasses.length\">学会最新课程</h2>\n    <Class\n      v-for=\"(buddhaClass, index) in dashboard.newClasses\"\n      :buddhaClass=\"buddhaClass\"\n      :key=\"buddhaClass.id + index\"\n      :forApplication=\"true\"\n    />\n  </div>\n</template>\n\n<script>\nimport Class from \"./Class\";\n\nexport default {\n  name: \"StudentDashboard\",\n  props: {\n    dashboard: { type: Object, required: true }\n  },\n  components: {\n    Class\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StudentDashboard.vue?vue&type=template&id=dcae529c&\"\nimport script from \"./StudentDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./StudentDashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-preview\"},[(_vm.dashboard.classes.length === 0)?_c('div',{staticClass:\"user-preview\"},[_vm._v(\"\\n    没有找到任何佛学课程！\\n  \")]):_vm._l((_vm.dashboard.classes),function(buddhaClass,index){return _c('Class',{key:buddhaClass.id + index,attrs:{\"buddhaClass\":buddhaClass}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user-preview\">\n    <div v-if=\"dashboard.classes.length === 0\" class=\"user-preview\">\n      没有找到任何佛学课程！\n    </div>\n    <Class\n      v-else\n      v-for=\"(buddhaClass, index) in dashboard.classes\"\n      :buddhaClass=\"buddhaClass\"\n      :key=\"buddhaClass.id + index\"\n    />\n  </div>\n</template>\n\n<script>\nimport Class from \"./Class\";\n\nexport default {\n  name: \"AdminDashboard\",\n  props: {\n    dashboard: { type: Object, required: true }\n  },\n  components: {\n    Class\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminDashboard.vue?vue&type=template&id=3e00907a&\"\nimport script from \"./AdminDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminDashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div v-if=\"isLoadingDashboards\">\n      正在获取主页数据...\n    </div>\n    <div v-else>\n      <b-tabs pills content-class=\"mt-3\" align=\"center\">\n        <b-tab\n          v-if=\"home.studentDashboard\"\n          :title=\"studentDashboardTitle()\"\n          title-item-class=\"mytab\"\n          acitve\n        >\n          <StudentDashboard :dashboard=\"home.studentDashboard\" />\n        </b-tab>\n        <b-tab\n          v-if=\"home.classAdminDashboard\"\n          :title=\"classAdminDashboardTitle()\"\n          title-item-class=\"mytab\"\n          acitve\n        >\n          <AdminDashboard :dashboard=\"home.classAdminDashboard\" />\n        </b-tab>\n        <b-tab\n          v-if=\"home.systemAdminDashboard\"\n          title=\"学会全部课程\"\n          title-item-class=\"mytab\"\n          acitve\n        >\n          <AdminDashboard :dashboard=\"home.systemAdminDashboard\" />\n        </b-tab>\n      </b-tabs>\n    </div>\n  </div>\n</template>\n\n<script>\nimport StudentDashboard from \"@/components/StudentDashboard\";\nimport AdminDashboard from \"@/components/AdminDashboard\";\nimport { mapGetters } from \"vuex\";\nimport { FETCH_DASHBOARDS } from \"../store/actions.type\";\nimport store from \"@/store\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    StudentDashboard,\n    AdminDashboard\n  },\n  methods: {\n    studentDashboardTitle() {\n      return `${this.currentUser.name}的闻思修`;\n    },\n    classAdminDashboardTitle() {\n      return `${this.currentUser.name}辅导的课程`;\n    }\n  },\n  computed: {\n    ...mapGetters([\n      \"home\",\n      \"currentUser\",\n      \"isLoadingDashboards\",\n      \"isSystemAdmin\"\n    ])\n  },\n  beforeRouteEnter(to, from, next) {\n    console.log(`from: ${from.path}`);\n    if (!from || !from.path || !from.path.startsWith(\"/home\")) {\n      store.dispatch(FETCH_DASHBOARDS).then(() => {\n        next();\n      });\n    } else {\n      next();\n    }\n  }\n};\n</script>\n\n<style>\n.nav-pills li {\n  list-style-type: none;\n}\n\n.nav-pills .mytab .nav-link:not(.active) {\n  background-color: red !important;\n  font-size: 22px;\n}\n\n.nav-pills .mytab .nav-link {\n  background-color: blue !important;\n  font-size: 22px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=66557a2c&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\"","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n"],"sourceRoot":""}