(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-712fd3c0"],{bb51:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isLoadingDashboards?s("div",{staticClass:"user-preview"},[e._v("\n    正在获取主页数据...\n  ")]):s("div",[e.home.studentDashboard?s("div",{staticClass:"user-preview"},[s("StudentDashboard",{attrs:{dashboard:e.home.studentDashboard}})],1):s("div",[s("h1",[e._v("TODO")])])])])},a=[],r=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),o=(s("f559"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-preview"},[0===e.dashboard.classes.length?s("div",{staticClass:"user-preview"},[e._v("\n    您还没有参加任何佛学课程！\n  ")]):e._l(e.dashboard.classes,(function(e,t){return s("Class",{key:t,attrs:{buddhaClass:e}})}))],2)}),i=[],c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h3",{domProps:{textContent:e._s(e.buddhaClass.name)}}),s("h4",[e._v("辅导员："+e._s(e.teachers)+" 师兄")]),s("b-button",{attrs:{block:"",variant:"info",href:e.buddhaClass.url,target:"_blank"}},[e._v("学习资料总汇")]),0===e.buddhaClass.classSessions.length?s("div",{staticClass:"user-preview"},[e._v("\n    还没有开课，敬请期待！\n  ")]):s("div",{staticClass:"user-preview"},e._l(e.buddhaClass.classSessions,(function(e,t){return s("ClassSession",{key:t,attrs:{classSession:e}})})),1)],1)},l=[],u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-card",{staticClass:"text-center",attrs:{header:e.session.name}},[s("b-card-text",[s("b-input-group",{staticClass:"mt-3",attrs:{prepend:"上课时间："}},[s("b-form-input",{attrs:{readonly:""},model:{value:e.session.scheduledAtLocalDateTimeString,callback:function(t){e.$set(e.session,"scheduledAtLocalDateTimeString",t)},expression:"session.scheduledAtLocalDateTimeString"}}),s("b-input-group-append",[s("b-button",{attrs:{variant:"info",href:e.session.url,target:"_blank"}},[e._v("看传承/法本")])],1)],1),s("b-form-textarea",{attrs:{placeholder:"Auto height textarea",rows:"3","max-rows":"8"},model:{value:e.session.description,callback:function(t){e.$set(e.session,"description",t)},expression:"session.description"}}),s("b-input-group",{staticClass:"mt-3",attrs:{prepend:"考勤状态："}},[s("b-form-input",{attrs:{readonly:""},model:{value:e.session.attendanceState,callback:function(t){e.$set(e.session,"attendanceState",t)},expression:"session.attendanceState"}}),s("b-input-group-append",[s("b-button",{attrs:{variant:"info"}},[e._v(e._s(e.attendanceButtonName()))])],1)],1)],1)],1)],1)},d=[],h={name:"ClassSession",props:{classSession:{type:Object,required:!0}},data:function(){return{session:{id:this.classSession.get("objectId"),name:this.classSession.get("name"),url:this.classSession.get("url"),description:this.classSession.get("description"),scheduledAtLocalDateTimeString:this.toLocalDateTimeString(this.classSession.get("scheduledAt")),attendanceState:"未报考勤"}}},methods:{toLocalDateTimeString:function(e){var t={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};return e.toLocaleDateString("zh-CN",t)},attendanceButtonName:function(){var e=new Date;return e<this.classSession.get("scheduledAt")?"我要请假":"我要报考勤"}}},p=h,b=s("2877"),m=Object(b["a"])(p,u,d,!1,null,null,null),f=m.exports,v={name:"Class",components:{ClassSession:f},props:{buddhaClass:{type:Object,required:!0}},data:function(){return{teachers:this.buddhaClass.teachers.join()}},methods:{createUser:function(){this.$router.push({name:"userCreate"})}}},g=v,S=Object(b["a"])(g,c,l,!1,null,null,null),O=S.exports,C={name:"StudentDashboard",props:{dashboard:{type:Object,required:!0}},components:{Class:O}},_=C,j=Object(b["a"])(_,o,i,!1,null,null,null),w=j.exports,y=s("2f62"),D=s("6c33"),x=s("4360");function k(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function P(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?k(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):k(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var L={name:"Home",components:{StudentDashboard:w},beforeRouteEnter:function(e,t,s){console.log("from: ".concat(t.path)),t&&t.path&&t.path.startsWith("/home")?s():x["a"].dispatch(D["c"]).then((function(){s()}))},computed:P({},Object(y["b"])(["home","isLoadingDashboards"])),mounted:function(){}},$=L,A=Object(b["a"])($,n,a,!1,null,null,null);t["default"]=A.exports},f559:function(e,t,s){"use strict";var n=s("5ca1"),a=s("9def"),r=s("d2c8"),o="startsWith",i=""[o];n(n.P+n.F*s("5147")(o),"String",{startsWith:function(e){var t=r(this,e,o),s=a(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return i?i.call(t,n,s):t.slice(s,s+n.length)===n}})}}]);
//# sourceMappingURL=chunk-712fd3c0.b61356f0.js.map