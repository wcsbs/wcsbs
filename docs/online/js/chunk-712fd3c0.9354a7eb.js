(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-712fd3c0"],{bb51:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isLoadingDashboards?s("div",{staticClass:"user-preview"},[t._v("\n    正在获取主页数据...\n  ")]):s("div",[t.home.studentDashboard?s("div",{staticClass:"user-preview"},[s("StudentDashboard",{attrs:{dashboard:t.home.studentDashboard}})],1):s("div",[s("h1",[t._v("TODO")])])])])},n=[],r=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),i=(s("f559"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-preview"},[0===t.dashboard.classes.length?s("div",{staticClass:"user-preview"},[t._v("\n    您还没有参加任何佛学课程！\n  ")]):t._l(t.dashboard.classes,(function(t,e){return s("Class",{key:e,attrs:{buddhaClass:t}})}))],2)}),c=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",{domProps:{textContent:t._s(t.buddhaClass.name)}}),s("h4",[t._v("辅导员："+t._s(t.teachers)+" 师兄")]),s("b-button",{attrs:{block:"",variant:"info",href:t.buddhaClass.url,target:"_blank"}},[t._v("学习资料总汇")]),0===t.buddhaClass.classSessions.length?s("div",{staticClass:"user-preview"},[t._v("\n    还没有开课，敬请期待！\n  ")]):s("div",{staticClass:"user-preview"},[s("h4",[t._v("正在闻思")]),t._l(t.buddhaClass.classSessions,(function(t,e){return s("ClassSession",{key:t.id+e,attrs:{classSession:t}})})),s("b-button",{attrs:{block:"",variant:"info",href:t.buddhaClass.url,target:"_blank"}},[t._v("查看所有上课记录")]),t.buddhaClass.practices.length>0?s("h4",[t._v("正在实修")]):t._e(),t._l(t.buddhaClass.practices,(function(t,e){return s("Practice",{key:t.id+e,attrs:{practice:t}})}))],2)],1)},u=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-card",{staticClass:"text-center",attrs:{header:t.session.name}},[s("b-card-text",[t._v("\n      上课时间："+t._s(t.session.scheduledAtLocalDateTimeString)+"\n      "),s("b-input-group",{staticClass:"mt-3",attrs:{prepend:"课前准备："}},[s("b-form-input",{attrs:{readonly:""},model:{value:t.session.materialState,callback:function(e){t.$set(t.session,"materialState",e)},expression:"session.materialState"}}),s("b-input-group-append",[s("b-button",{attrs:{variant:"info",href:t.session.url,target:"_blank"}},[t._v("看传承/法本")])],1)],1),s("b-input-group",{staticClass:"mt-3",attrs:{prepend:"个人出勤："}},[s("b-form-input",{attrs:{readonly:""},model:{value:t.session.attendanceState,callback:function(e){t.$set(t.session,"attendanceState",e)},expression:"session.attendanceState"}}),s("b-input-group-append",[s("b-button",{attrs:{variant:"warning"}},[t._v(t._s(t.attendanceButtonName()))]),s("b-button",{attrs:{variant:"info"},on:{click:function(e){t.session.showDescription=!t.session.showDescription}}},[t._v("\n            "+t._s(t.session.showDescription?"收起上课通知":"显示上课通知"))])],1)],1),t.session.showDescription?s("b-form-textarea",{attrs:{placeholder:"Auto height textarea",rows:"3","max-rows":"8"},model:{value:t.session.description,callback:function(e){t.$set(t.session,"description",e)},expression:"session.description"}}):t._e()],1)],1)],1)},p=[],d={name:"ClassSession",props:{classSession:{type:Object,required:!0}},data:function(){return{session:{id:this.classSession.get("objectId"),name:this.classSession.get("name"),url:this.classSession.get("url"),description:this.classSession.get("description"),scheduledAtLocalDateTimeString:this.toLocalDateTimeString(this.classSession.get("scheduledAt")),showDescription:!1,attendanceState:"未报考勤",materialState:"未看传承/未看法本"}}},methods:{toLocalDateTimeString:function(t){var e={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};return t.toLocaleDateString("zh-CN",e)},attendanceButtonName:function(){var t=new Date;return t<this.classSession.get("scheduledAt")?"我要请假":"我要报考勤"}}},h=d,b=s("2877"),m=Object(b["a"])(h,l,p,!1,null,null,null),f=m.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-card",{staticClass:"text-center",attrs:{header:t.practiceObj.name}},[s("b-card-text",[s("b-input-group",{staticClass:"mt-3",attrs:{prepend:"最新报数："}},[s("b-form-input",{attrs:{readonly:""},model:{value:t.practiceObj.practiceReportingState,callback:function(e){t.$set(t.practiceObj,"practiceReportingState",e)},expression:"practiceObj.practiceReportingState"}}),s("b-input-group-append",[s("b-button",{attrs:{variant:"warning"}},[t._v("我要报数")]),s("b-button",{attrs:{variant:"info"},on:{click:function(e){t.practiceObj.showDescription=!t.practiceObj.showDescription}}},[t._v("\n            "+t._s(t.practiceObj.showDescription?"收起详情":"显示详情"))])],1)],1),t.practiceObj.showDescription?s("b-form-textarea",{attrs:{placeholder:"Auto height textarea",rows:"3","max-rows":"8"},model:{value:t.practiceObj.description,callback:function(e){t.$set(t.practiceObj,"description",e)},expression:"practiceObj.description"}}):t._e()],1)],1)],1)},g=[],O={name:"Practice",props:{practice:{type:Object,required:!0}},data:function(){return{practiceObj:{id:this.practice.get("objectId"),name:this.practice.get("name"),description:this.practice.get("description"),showDescription:!1,practiceReportingState:"未报数"}}},methods:{toLocalDateTimeString:function(t){var e={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};return t.toLocaleDateString("zh-CN",e)}}},_=O,S=Object(b["a"])(_,v,g,!1,null,null,null),j=S.exports,w={name:"Class",components:{ClassSession:f,Practice:j},props:{buddhaClass:{type:Object,required:!0}},data:function(){return{teachers:this.buddhaClass.teachers.join()}},methods:{createUser:function(){this.$router.push({name:"userCreate"})}}},C=w,D=Object(b["a"])(C,o,u,!1,null,null,null),y=D.exports,x={name:"StudentDashboard",props:{dashboard:{type:Object,required:!0}},components:{Class:y}},k=x,P=Object(b["a"])(k,i,c,!1,null,null,null),$=P.exports,L=s("2f62"),E=s("6c33"),A=s("4360");function T(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function R(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?T(Object(s),!0).forEach((function(e){Object(r["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):T(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var q={name:"Home",components:{StudentDashboard:$},beforeRouteEnter:function(t,e,s){console.log("from: ".concat(e.path)),e&&e.path&&e.path.startsWith("/home")?s():A["a"].dispatch(E["c"]).then((function(){s()}))},computed:R({},Object(L["b"])(["home","isLoadingDashboards"])),mounted:function(){}},N=q,W=Object(b["a"])(N,a,n,!1,null,null,null);e["default"]=W.exports},f559:function(t,e,s){"use strict";var a=s("5ca1"),n=s("9def"),r=s("d2c8"),i="startsWith",c=""[i];a(a.P+a.F*s("5147")(i),"String",{startsWith:function(t){var e=r(this,t,i),s=n(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),a=String(t);return c?c.call(e,a,s):e.slice(s,s+a.length)===a}})}}]);
//# sourceMappingURL=chunk-712fd3c0.9354a7eb.js.map